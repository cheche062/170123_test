"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){var t=window.myUtil={};t.log=function(){window.GM&&"function"==typeof GM.log?GM.log.apply(GM,arguments):1==t.debugFE&&console.log.apply(console,arguments)},t.console_log=function(){console.log.apply(console,arguments)},t.notLogged=function(){var e=t.config.userLogged;return e||(window.location.href=t.config.userLoginUrl),!e},t.pubsub=function(){var t="default",e=function(){var e={},i=Array.prototype.slice,n=Array.prototype.shift,o=Array.prototype.unshift,r=function(t,e,i){i[t]||(i[t]=[]),i[t].push(e)},a=function(t,e,i){if(e[t])if(i){var n=e[t];if(!n||!n.length)return;for(var o=0,r=n.length;o<r;o++)n[o].fnOrg===i.fnOrg&&(n.splice(o,1),o--,r--);0===r&&delete e[t]}else delete e[t]},s=function(){var t=n.call(arguments),e=n.call(arguments),i=arguments,o=t[e];if(o&&o.length)for(var r=0,s=o.length;r<s;r++){var u=o[r];u.fnOrg.EXCUTED_ONCE&&(a(e,t,u),r--,s--),u.apply(null,i)}},u=function(n){var n=n||t,u={},l=[],c=!1,h=function(t,e){for(var i=0,n=l.length;i<n;i++){var o=l[i];if(o.key===t){e.apply(null,o.data),e.EXCUTED_ONCE&&a(t,u,e),o.isOnce&&(l.splice(i,1),i--,n--);break}}};return ret={listenOnce:function(t,e,i){return e.EXCUTED_ONCE=!0,this.listen(t,e,i),this},listen:function(t,e,i){var n=e&&e.bind(i||window);return n&&(n.fnOrg=e),r(t,n,u),h(t,n),this},remove:function(t,e,i){var n=e&&e.bind(i||window);return 0===arguments.length?(u={},l=[]):(n&&(n.fnOrg=e),a(t,u,n)),this},fire:function(){return o.call(arguments,u),s.apply(null,arguments),this},fireForceOnce:function(){return c=!0,this.fireForce.apply(this,arguments),this},fireForce:function(){var t=arguments,e=t[0];return u[e]&&(this.fire.apply(this,t),c)?(isMustOnce=!1,this):(l.push({key:e,isOnce:c,data:i.call(arguments,1)}),isMustOnce=!1,this)}},n?e[n]?e[n]:e[n]=ret:ret};return{create:u}}();return e}(),t.asyn=function(){var e={},i=[],n={hook:function(){var e=t.util.slice.call(arguments);return i=i.concat(e),this},unHook:function(){var e,n,o=t.util.slice.call(arguments),r=o.length,a=i.length;if(0==r)i=[];else for(e=0;e<a;e++)for(n=0;n<r;n++)if(i[e]==o[n]){i.splice(e,1),e--,a--;break}return this},_done:function(){return i.forEach(function(t,e){t&&t()}),i=[],this},isReady:{},ready:function(t){return this.isReady[t]=!0,delete e[t],0===Object.keys(e).length&&this._done(),this},wait:function(t){return e[t]="wait",this}};return n},t.DownTimeMsec=function(t,e){this.time=parseInt(t,10),this.loopTime=e||50,this.timeout=null},t.DownTimeMsec.prototype={constructor:t.DownTimeMsec,_loopTime:function(t,e,i){var n=this,o=new Date,r=function r(){var a=new Date,s=a-o,u=t-s;u=u<0?0:u;var l=Math.floor(u/1e3);"function"==typeof e&&e(u,l),u>0?(clearTimeout(n.timeout),n.timeout=setTimeout(r,n.loopTime)):"function"==typeof i&&i()};return r(),this},start:function(t,e){return this.func=t,this.callback=e,this._loopTime(this.time,t,e),this},setTime:function(t){this.stop(),this._loopTime(t,this.func,this.callback)},stop:function(){return clearTimeout(this.timeout),this}},t.DownTime=function(t,e){this.time=parseInt(t,10),this.timeOrg=this.time,this.leftTime=this.time,this.flag=e,this.timeout=null},t.DownTime.prototype={constructor:t.DownTime,_format:function(t){var e=(this.el,this.flag),i=t/60;i=Math.floor(i),i=i<0?0:i,i<10&&1===e&&(i="0"+i);var n=t%60;n=Math.floor(n),n=n<0?0:n,n<10&&(n="0"+n);var o=""+i+":"+n;return o},_loopTime:function(t,e,i){var n=new Date,o=function(){var r=new Date,a=(r-n)/1e3;a=Math.floor(a);var s=t-a;s=s<0?0:s,"function"==typeof e&&e(s,this._format(s)),this.leftTime=s,s>0?(clearTimeout(this.timeout),this.timeout=setTimeout(o,1e3)):"function"==typeof i&&i()}.bind(this);o()},start:function(t,e){return this.func=t,this.callback=e,this._loopTime(this.time,t,e),this},reStart:function(){this.time=this.timeOrg,this.start.apply(this,arguments)},recover:function(){this._loopTime(this.leftTime,this.func,this.callback)},setTime:function(t){this.stop(),this._loopTime(t,this.func,this.callback)},stop:function(){return clearTimeout(this.timeout),this}},Laya.Node.prototype.localToTarget=function(t){for(var e={x:0,y:0},i=this;i&&i!=t&&i!=Laya.stage;)e=i.toParentPoint(e),i=i.parent;return e},Laya.Node.prototype.find=function(t,e){var i=function i(n){var o,r=n._childs,a=[];if(!r)return a;for(var s=0,u=r.length;s<u;s++){var l=r[s];if(l.name===t){if(a.push(l),e!==!0)break}else if(o=i(l),a=a.concat(o),o.length>0&&e!==!0)break}return a},n=i(this),o=n.length;return e?n:(0==o?n=null:1==o&&(n=n[0]),n)},Laya.Node.prototype.findType=function(t,e){function i(t){for(var e,i=t.split("."),n=0;n<i.length;n++){var o=i[n];if(e=0===n?laya.ui[o]||ui[o]||laya.display[o]:e[o],!e)break}return e}var n=function e(n){var o=[],r=i(t);if(!r)return o;for(var a=0;a<n.numChildren;a++)n.getChildAt(a)instanceof r&&o.push(n.getChildAt(a));for(var a=0;a<n.numChildren;a++)o=o.concat(e(n.getChildAt(a)));return o},o=n(this),r=o.length;return e?o:(0==r?o=null:1==r&&(o=o[0]),o)},window.convertXMLToNode=function(t){function e(t){var i=t.type;if(!laya.ui[i])return null;var n=new laya.ui[i],o=t.props;for(var r in o){var a=o[r];isNaN(Number(a))||(a=Number(a)),n[r]=a}for(var s=t.childs,u=0;u<s.length;u++){var l=s[u],c=e(l);c&&n.addChild(c)}return n}function i(t,e){var o={};o.type=n(t),o.childs=[];for(var r=t.childNodes,a=0;a<r.length;a++){var s=r.item(a),u=(n(s),i(s));o.childs.push(u)}if(t.attributes){o.props={};for(var l=0;l<t.attributes.length;l++){var c=t.attributes.item(l);o.props[c.name]=c.value}}return o}function n(t){var e=t.localName;return null===e&&(e=t.baseName),null!==e&&""!==e||(e=t.nodeName),e}function o(t){var e=r(t);return null!==e?i(e):null}function r(t){if(void 0===t)return null;var e,i;window.DOMParser&&(i=new window.DOMParser);try{e=i.parseFromString(t,"text/xml").firstChild}catch(t){e=null}return e}var a,s=o(t);return a=e(s)},t.timeOnPageControl={fire:function(e,i){t.Socket.pubsub.fire(e,i)},pageOffReset:function(){clearTimeout(this.pageOffTimeout),t.config.timeOffPage=0,this.fire("timeOffPage",t.config.timeOffPage)},pageOffStart:function(){var e=(new Date).getTime(),i=function(){var n=(new Date).getTime();t.config.timeOffPage=n-e,this.fire("timeOffPage",t.config.timeOffPage),clearTimeout(this.pageOffTimeout),this.pageOffTimeout=setTimeout(i,1e3)}.bind(this);i()},pageOnReset:function(){clearTimeout(this.pageOnTimeout),t.config.timeOnPage=0,this.fire("timeOnPage",t.config.timeOnPage)},pageOnStart:function(){var e=(new Date).getTime(),i=function(){var n=(new Date).getTime();t.config.timeOnPage=n-e,this.fire("timeOnPage",t.config.timeOnPage),clearTimeout(this.pageOnTimeout),this.pageOnTimeout=setTimeout(i,1e3)}.bind(this);i()},pageHide:function(){t.timeOnPageControl.pageOnReset(),t.timeOnPageControl.pageOffStart()},pageOn:function(){t.timeOnPageControl.pageOnStart(),t.timeOnPageControl.pageOffReset()},init:function(){this.pageOnStart()}},t.visibleChangeListen=function(){function e(){"hidden"==Laya.Browser.document[i]?t.timeOnPageControl.pageHide():t.timeOnPageControl.pageOn()}var i="visibilityState",n="visibilitychange",o=window.document;"undefined"!=typeof o.hidden?(n="visibilitychange",i="visibilityState"):"undefined"!=typeof o.mozHidden?(n="mozvisibilitychange",i="mozVisibilityState"):"undefined"!=typeof o.msHidden?(n="msvisibilitychange",i="msVisibilityState"):"undefined"!=typeof o.webkitHidden&&(n="webkitvisibilitychange",i="webkitVisibilityState"),window.document.addEventListener(n,e)}}(),function(){function t(t,e){var i=this;i.dom={glr:t},i.config={},i.tmp={},i.initConfig(e),i.init()}var e={origin_index:0,animate_time:500,item_space:10,move_scope_rate:1/6,pagination:!0,end_call_back:null};Laya.class(t,"zsySlider");var i=t.prototype;i.initConfig=function(t){var i=this;t||(t={}),i.config.cur_index=t.origin_index||e.origin_index,i.config.item_space=t.item_space||e.item_space,i.config.animate_time=t.animate_time||e.animate_time,i.config.pagination=t.pagination||e.pagination,i.config.end_call_back=t.end_call_back||e.end_call_back,t.item_width&&(i.config.move_space=t.item_width+i.config.item_space,i.config.move_scope=i.config.move_space*e.move_scope_rate)},i.init=function(){var t=this;t.initDom(),t.initEvent(),t.config.move_space||(t.config.move_space=t.dom.con.width+t.config.item_space,t.config.move_scope=t.config.move_space*e.move_scope_rate)},i.initDom=function(){var t=this,e=t.dom.glr;t.dom.con=e.getChildByName("con"),t.dom.list=t.dom.con.getChildByName("list"),t.replaceGlrList(),t.addMask(),t.dom.items=[];for(var i=0;i<t.dom.list.numChildren;i++)t.dom.items.push(t.dom.list.getChildAt(i));t.config.pagination&&(t.dom.pagination=e.getChildByName("pagination"))},i.addMask=function(){var t=this,e=t.dom.con;e.scrollRect=new laya.maths.Rectangle(0,0,e.width,e.height)},i.replaceGlrList=function(){var t=this,i=t.dom.con,n=t.dom.list,o=new Laya.Box;o.name="list";for(var r=[],a=0;a<n.numChildren;a++){var s=n.getChildAt(a);s.name="item",s.visible=!0,r.push(s)}for(var a=0;a<r.length;a++)a==e.origin_index?r[a].visible=!0:r[a].visible=!1,o.addChild(r[a]);t.dom.list=o,i.addChild(o),o.space=e.item_space,o.cacheAs="none",o.x=n.x,o.y=n.y,i.removeChild(n),n.destroy()},i.initEvent=function(){var t=this,e=Laya.Event.MOUSE_DOWN,i=Laya.Event.MOUSE_MOVE,n=Laya.Event.MOUSE_UP,o=Laya.Event.MOUSE_OUT,r=t.dom.list;t.config.pagination&&(t.dom.pagination.selectHandler=Laya.Handler.create(t,t.paginationHandler,null,!1)),r.on(e,t,t.onTouchStart),r.on(i,t,t.onTouchMove),r.on(n,t,t.onTouchEnd),r.on(o,t,t.onTouchEnd)},i.paginationHandler=function(t){var e=this;e.dom.pagination;if("onEndAnimate"===e.getTouchStatus())return!0;var i,n,o=e.config.cur_index;n=t,i=o>t?"left":"right",e.handleMoveEffect(i,n),e.animateMove()},i.onTouchStart=function(t){var e=this,i=t.target;return"onEndAnimate"==e.getTouchStatus()||(e.tmp.start_point={x:t.stageX,y:t.stageY},e.tmp.origin_pos={x:i.x},void e.setTouchStatus("start"))},i.onTouchMove=function(t){var e=this,i=t.target;return"start"!==e.getTouchStatus()&&"move"!==e.getTouchStatus()||("start"==e.getTouchStatus()&&e.setTouchStatus("move"),e.tmp.move_dist={x:t.stageX-e.tmp.start_point.x,y:t.stageY-e.tmp.start_point.y},i.x=e.tmp.origin_pos.x+e.tmp.move_dist.x,void e.detectNextShowIndex())},i.detectNextShowIndex=function(){var t,e,i=this,n=i.config.cur_index,o=i.dom.items,r=o.length,a=i.tmp.move_dist.x;if(a>0)t="left";else{if(!(a<0))return i.tmp.next_show_index=n,!0;t="right"}e="left"==t?n-1:n+1,e<0?e=r-1:e>=r&&(e=0),i.handleMoveEffect(t,e)},i.handleMoveEffect=function(t,e){var i=this,n=i.config.cur_index,o=i.dom.items,r=i.config.move_space;if(t==i.tmp.move_direction&&e==i.tmp.next_show_index)return!0;i.tmp.move_direction=t,i.tmp.next_show_index=e;for(var a=0;a<o.length;a++)a!=n&&a!=e&&(o[a].x=0,o[a].visible=!1);var s=o[e];s.visible=!0,"left"==t?s.x=-r:s.x=r},i.onTouchEnd=function(t){var e=this,i=e.tmp&&e.tmp.move_dist&&e.tmp.move_dist.x;if("move"!==e.getTouchStatus())return!0;if(!i)return!0;var i=e.tmp.move_dist.x;Math.abs(i)<e.config.move_scope&&(e.tmp.next_show_index=e.config.cur_index),e.animateMove()},i.animateMove=function(){function t(){e.config.pagination&&(e.dom.pagination.selectedIndex=e.config.cur_index),i&&"function"==typeof i&&i(e.config.cur_index),e.reset()}var e=this,i=e.config.end_call_back,n=e.tmp.next_show_index,o=e.config.move_space;e.setTouchStatus("onEndAnimate"),e.config.cur_index==n?o=0:(e.config.cur_index=n,"right"==e.tmp.move_direction&&(o=-o));var r=e.dom.list,a={x:o},s=new Laya.Tween;s.to(r,a,e.config.animate_time,null,Laya.Handler.create(e,t))},i.reset=function(){var t=this;t.resetGlrCon(),t.tmp={},t.setTouchStatus("end")},i.resetGlrCon=function(){var t=this,e=t.dom.list,i=t.dom.items,n=t.config.cur_index;e.x=0,i[n].x=0;for(var o=0;o<i.length;o++)o==t.config.cur_index?i[o].x=0:i[o].visible=!1},i.setTouchStatus=function(t){var e=this;e.dom.con._zsySlider_touchtatus=t},i.getTouchStatus=function(){var t=this;return t.dom.con._zsySlider_touchtatus}}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){var t=this,e=t._,i=Array.prototype,n=Object.prototype,o=Function.prototype,r=i.push,a=i.slice,s=i.concat,u=n.toString,l=n.hasOwnProperty,c=Array.isArray,h=Object.keys,p=o.bind,f=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports._=f):t._=f,f.VERSION="1.7.0";var d=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)};case 4:return function(i,n,o,r){return t.call(e,i,n,o,r)}}return function(){return t.apply(e,arguments)}};f.iteratee=function(t,e,i){return null==t?f.identity:f.isFunction(t)?d(t,e,i):f.isObject(t)?f.matches(t):f.property(t)},f.each=f.forEach=function(t,e,i){if(null==t)return t;e=d(e,i);var n,o=t.length;if(o===+o)for(n=0;o>n;n++)e(t[n],n,t);else{var r=f.keys(t);for(n=0,o=r.length;o>n;n++)e(t[r[n]],r[n],t)}return t},f.map=f.collect=function(t,e,i){if(null==t)return[];e=f.iteratee(e,i);for(var n,o=t.length!==+t.length&&f.keys(t),r=(o||t).length,a=Array(r),s=0;r>s;s++)n=o?o[s]:s,a[s]=e(t[n],n,t);return a};var g="Reduce of empty array with no initial value";f.reduce=f.foldl=f.inject=function(t,e,i,n){null==t&&(t=[]),e=d(e,n,4);var o,r=t.length!==+t.length&&f.keys(t),a=(r||t).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(g);i=t[r?r[s++]:s++]}for(;a>s;s++)o=r?r[s]:s,i=e(i,t[o],o,t);return i},f.reduceRight=f.foldr=function(t,e,i,n){null==t&&(t=[]),e=d(e,n,4);var o,r=t.length!==+t.length&&f.keys(t),a=(r||t).length;if(arguments.length<3){if(!a)throw new TypeError(g);i=t[r?r[--a]:--a]}for(;a--;)o=r?r[a]:a,i=e(i,t[o],o,t);return i},f.find=f.detect=function(t,e,i){var n;return e=f.iteratee(e,i),f.some(t,function(t,i,o){return e(t,i,o)?(n=t,!0):void 0}),n},f.filter=f.select=function(t,e,i){var n=[];return null==t?n:(e=f.iteratee(e,i),f.each(t,function(t,i,o){e(t,i,o)&&n.push(t)}),n)},f.reject=function(t,e,i){return f.filter(t,f.negate(f.iteratee(e)),i)},f.every=f.all=function(t,e,i){if(null==t)return!0;e=f.iteratee(e,i);var n,o,r=t.length!==+t.length&&f.keys(t),a=(r||t).length;for(n=0;a>n;n++)if(o=r?r[n]:n,!e(t[o],o,t))return!1;return!0},f.some=f.any=function(t,e,i){if(null==t)return!1;e=f.iteratee(e,i);var n,o,r=t.length!==+t.length&&f.keys(t),a=(r||t).length;for(n=0;a>n;n++)if(o=r?r[n]:n,e(t[o],o,t))return!0;return!1},f.contains=f.include=function(t,e){return null!=t&&(t.length!==+t.length&&(t=f.values(t)),f.indexOf(t,e)>=0)},f.invoke=function(t,e){var i=a.call(arguments,2),n=f.isFunction(e);return f.map(t,function(t){return(n?e:t[e]).apply(t,i)})},f.pluck=function(t,e){return f.map(t,f.property(e))},f.where=function(t,e){return f.filter(t,f.matches(e))},f.findWhere=function(t,e){return f.find(t,f.matches(e))},f.max=function(t,e,i){var n,o,r=-1/0,a=-1/0;if(null==e&&null!=t){t=t.length===+t.length?t:f.values(t);for(var s=0,u=t.length;u>s;s++)n=t[s],n>r&&(r=n)}else e=f.iteratee(e,i),f.each(t,function(t,i,n){o=e(t,i,n),(o>a||o===-1/0&&r===-1/0)&&(r=t,a=o)});return r},f.min=function(t,e,i){var n,o,r=1/0,a=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:f.values(t);for(var s=0,u=t.length;u>s;s++)n=t[s],r>n&&(r=n)}else e=f.iteratee(e,i),f.each(t,function(t,i,n){o=e(t,i,n),(a>o||1/0===o&&1/0===r)&&(r=t,a=o)});return r},f.shuffle=function(t){for(var e,i=t&&t.length===+t.length?t:f.values(t),n=i.length,o=Array(n),r=0;n>r;r++)e=f.random(0,r),e!==r&&(o[r]=o[e]),o[e]=i[r];return o},f.sample=function(t,e,i){return null==e||i?(t.length!==+t.length&&(t=f.values(t)),t[f.random(t.length-1)]):f.shuffle(t).slice(0,Math.max(0,e))},f.sortBy=function(t,e,i){return e=f.iteratee(e,i),f.pluck(f.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index-e.index}),"value")};var y=function(t){return function(e,i,n){var o={};return i=f.iteratee(i,n),f.each(e,function(n,r){var a=i(n,r,e);t(o,n,a)}),o}};f.groupBy=y(function(t,e,i){f.has(t,i)?t[i].push(e):t[i]=[e]}),f.indexBy=y(function(t,e,i){t[i]=e}),f.countBy=y(function(t,e,i){f.has(t,i)?t[i]++:t[i]=1}),f.sortedIndex=function(t,e,i,n){i=f.iteratee(i,n,1);for(var o=i(e),r=0,a=t.length;a>r;){var s=r+a>>>1;i(t[s])<o?r=s+1:a=s}return r},f.toArray=function(t){return t?f.isArray(t)?a.call(t):t.length===+t.length?f.map(t,f.identity):f.values(t):[]},f.size=function(t){return null==t?0:t.length===+t.length?t.length:f.keys(t).length},f.partition=function(t,e,i){e=f.iteratee(e,i);var n=[],o=[];return f.each(t,function(t,i,r){(e(t,i,r)?n:o).push(t)}),[n,o]},f.first=f.head=f.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:0>e?[]:a.call(t,0,e)},f.initial=function(t,e,i){return a.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},f.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},f.rest=f.tail=f.drop=function(t,e,i){return a.call(t,null==e||i?1:e)},f.compact=function(t){return f.filter(t,f.identity)};var m=function t(e,i,n,o){if(i&&f.every(e,f.isArray))return s.apply(o,e);for(var a=0,u=e.length;u>a;a++){var l=e[a];f.isArray(l)||f.isArguments(l)?i?r.apply(o,l):t(l,i,n,o):n||o.push(l)}return o};f.flatten=function(t,e){return m(t,e,!1,[])},f.without=function(t){return f.difference(t,a.call(arguments,1))},f.uniq=f.unique=function(t,e,i,n){if(null==t)return[];f.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=f.iteratee(i,n));for(var o=[],r=[],a=0,s=t.length;s>a;a++){var u=t[a];if(e)a&&r===u||o.push(u),r=u;else if(i){var l=i(u,a,t);f.indexOf(r,l)<0&&(r.push(l),o.push(u))}else f.indexOf(o,u)<0&&o.push(u)}return o},f.union=function(){return f.uniq(m(arguments,!0,!0,[]))},f.intersection=function(t){if(null==t)return[];for(var e=[],i=arguments.length,n=0,o=t.length;o>n;n++){var r=t[n];if(!f.contains(e,r)){for(var a=1;i>a&&f.contains(arguments[a],r);a++);a===i&&e.push(r)}}return e},f.difference=function(t){var e=m(a.call(arguments,1),!0,!0,[]);return f.filter(t,function(t){return!f.contains(e,t)})},f.zip=function(t){if(null==t)return[];for(var e=f.max(arguments,"length").length,i=Array(e),n=0;e>n;n++)i[n]=f.pluck(arguments,n);return i},f.object=function(t,e){if(null==t)return{};for(var i={},n=0,o=t.length;o>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},f.indexOf=function(t,e,i){if(null==t)return-1;var n=0,o=t.length;if(i){if("number"!=typeof i)return n=f.sortedIndex(t,e),t[n]===e?n:-1;n=0>i?Math.max(0,o+i):i}for(;o>n;n++)if(t[n]===e)return n;return-1},f.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=t.length;for("number"==typeof i&&(n=0>i?n+i+1:Math.min(n,i+1));--n>=0;)if(t[n]===e)return n;return-1},f.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),o=Array(n),r=0;n>r;r++,t+=i)o[r]=t;return o};var b=function(){};f.bind=function(t,e){var i,n;if(p&&t.bind===p)return p.apply(t,a.call(arguments,1));if(!f.isFunction(t))throw new TypeError("Bind must be called on a function");return i=a.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,i.concat(a.call(arguments)));b.prototype=t.prototype;var o=new b;b.prototype=null;var r=t.apply(o,i.concat(a.call(arguments)));return f.isObject(r)?r:o}},f.partial=function(t){var e=a.call(arguments,1);return function(){for(var i=0,n=e.slice(),o=0,r=n.length;r>o;o++)n[o]===f&&(n[o]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return t.apply(this,n)}},f.bindAll=function(t){var e,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(e=1;n>e;e++)i=arguments[e],t[i]=f.bind(t[i],t);return t},f.memoize=function(t,e){var i=function i(n){var o=i.cache,r=e?e.apply(this,arguments):n;return f.has(o,r)||(o[r]=t.apply(this,arguments)),o[r]};return i.cache={},i},f.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},f.defer=function(t){return f.delay.apply(f,[t,1].concat(a.call(arguments,1)))},f.throttle=function(t,e,i){var n,o,r,a=null,s=0;i||(i={});var u=function(){s=i.leading===!1?0:f.now(),a=null,r=t.apply(n,o),a||(n=o=null)};return function(){var l=f.now();s||i.leading!==!1||(s=l);var c=e-(l-s);return n=this,o=arguments,0>=c||c>e?(clearTimeout(a),a=null,s=l,r=t.apply(n,o),a||(n=o=null)):a||i.trailing===!1||(a=setTimeout(u,c)),r}},f.debounce=function(t,e,i){var n,o,r,a,s,u=function u(){var l=f.now()-a;e>l&&l>0?n=setTimeout(u,e-l):(n=null,i||(s=t.apply(r,o),n||(r=o=null)))};return function(){r=this,o=arguments,a=f.now();var l=i&&!n;return n||(n=setTimeout(u,e)),l&&(s=t.apply(r,o),r=o=null),s}},f.wrap=function(t,e){return f.partial(e,t)},f.negate=function(t){return function(){return!t.apply(this,arguments)}},f.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},f.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},f.before=function(t,e){var i;return function(){return--t>0?i=e.apply(this,arguments):e=null,i}},f.once=f.partial(f.before,2),f.keys=function(t){if(!f.isObject(t))return[];if(h)return h(t);var e=[];for(var i in t)f.has(t,i)&&e.push(i);return e},f.values=function(t){for(var e=f.keys(t),i=e.length,n=Array(i),o=0;i>o;o++)n[o]=t[e[o]];return n},f.pairs=function(t){for(var e=f.keys(t),i=e.length,n=Array(i),o=0;i>o;o++)n[o]=[e[o],t[e[o]]];return n},f.invert=function(t){for(var e={},i=f.keys(t),n=0,o=i.length;o>n;n++)e[t[i[n]]]=i[n];return e},f.functions=f.methods=function(t){var e=[];for(var i in t)f.isFunction(t[i])&&e.push(i);return e.sort()},f.extend=function(t){if(!f.isObject(t))return t;for(var e,i,n=1,o=arguments.length;o>n;n++){e=arguments[n];for(i in e)l.call(e,i)&&(t[i]=e[i])}return t},f.pick=function(t,e,i){var n,o={};if(null==t)return o;if(f.isFunction(e)){e=d(e,i);for(n in t){var r=t[n];e(r,n,t)&&(o[n]=r)}}else{var u=s.apply([],a.call(arguments,1));t=new Object(t);for(var l=0,c=u.length;c>l;l++)n=u[l],n in t&&(o[n]=t[n])}return o},f.omit=function(t,e,i){if(f.isFunction(e))e=f.negate(e);else{var n=f.map(s.apply([],a.call(arguments,1)),String);e=function(t,e){return!f.contains(n,e)}}return f.pick(t,e,i)},f.defaults=function(t){if(!f.isObject(t))return t;for(var e=1,i=arguments.length;i>e;e++){var n=arguments[e];for(var o in n)void 0===t[o]&&(t[o]=n[o])}return t},f.clone=function(t){return f.isObject(t)?f.isArray(t)?t.slice():f.extend({},t):t},f.tap=function(t,e){return e(t),t};var _=function t(e,i,n,o){if(e===i)return 0!==e||1/e===1/i;if(null==e||null==i)return e===i;e instanceof f&&(e=e._wrapped),i instanceof f&&(i=i._wrapped);var r=u.call(e);if(r!==u.call(i))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+i;case"[object Number]":return+e!==+e?+i!==+i:0===+e?1/+e===1/i:+e===+i;case"[object Date]":case"[object Boolean]":return+e===+i}if("object"!=("undefined"==typeof e?"undefined":_typeof(e))||"object"!=("undefined"==typeof i?"undefined":_typeof(i)))return!1;for(var a=n.length;a--;)if(n[a]===e)return o[a]===i;var s=e.constructor,l=i.constructor;if(s!==l&&"constructor"in e&&"constructor"in i&&!(f.isFunction(s)&&s instanceof s&&f.isFunction(l)&&l instanceof l))return!1;n.push(e),o.push(i);var c,h;if("[object Array]"===r){if(c=e.length,h=c===i.length)for(;c--&&(h=t(e[c],i[c],n,o)););}else{var p,d=f.keys(e);if(c=d.length,h=f.keys(i).length===c)for(;c--&&(p=d[c],h=f.has(i,p)&&t(e[p],i[p],n,o)););}return n.pop(),o.pop(),h};f.isEqual=function(t,e){return _(t,e,[],[])},f.isEmpty=function(t){if(null==t)return!0;if(f.isArray(t)||f.isString(t)||f.isArguments(t))return 0===t.length;for(var e in t)if(f.has(t,e))return!1;return!0},f.isElement=function(t){return!(!t||1!==t.nodeType)},f.isArray=c||function(t){return"[object Array]"===u.call(t)},f.isObject=function(t){var e="undefined"==typeof t?"undefined":_typeof(t);return"function"===e||"object"===e&&!!t},f.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){f["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}}),f.isArguments(arguments)||(f.isArguments=function(t){return f.has(t,"callee")}),"function"!=typeof/./&&(f.isFunction=function(t){return"function"==typeof t||!1}),f.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},f.isNaN=function(t){return f.isNumber(t)&&t!==+t},f.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===u.call(t)},f.isNull=function(t){return null===t},f.isUndefined=function(t){return void 0===t},f.has=function(t,e){return null!=t&&l.call(t,e)},f.noConflict=function(){return t._=e,this},f.identity=function(t){return t},f.constant=function(t){return function(){return t}},f.noop=function(){},f.property=function(t){return function(e){return e[t]}},f.matches=function(t){var e=f.pairs(t),i=e.length;return function(t){if(null==t)return!i;t=new Object(t);for(var n=0;i>n;n++){var o=e[n],r=o[0];if(o[1]!==t[r]||!(r in t))return!1}return!0}},f.times=function(t,e,i){var n=Array(Math.max(0,t));e=d(e,i,1);for(var o=0;t>o;o++)n[o]=e(o);return n},f.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},f.now=Date.now||function(){return(new Date).getTime()};var v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=f.invert(v),w=function(t){var e=function(e){return t[e]},i="(?:"+f.keys(t).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(o,e):t}};f.escape=w(v),f.unescape=w(x),f.result=function(t,e){if(null!=t){var i=t[e];return f.isFunction(i)?t[e]():i}};var k=0;f.uniqueId=function(t){var e=++k+"";return t?t+e:e},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,S={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028",
"\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,A=function(t){return"\\"+S[t]};f.template=function(t,e,i){!e&&i&&(e=i),e=f.defaults({},e,f.templateSettings);var n=RegExp([(e.escape||C).source,(e.interpolate||C).source,(e.evaluate||C).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(n,function(e,i,n,a,s){return r+=t.slice(o,s).replace(L,A),o=s+e.length,i?r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?r+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(e.variable||"obj","_",r)}catch(t){throw t.source=r,t}var s=function(t){return a.call(this,t,f)},u=e.variable||"obj";return s.source="function("+u+"){\n"+r+"}",s},f.chain=function(t){var e=f(t);return e._chain=!0,e};var I=function(t){return this._chain?f(t).chain():t};f.mixin=function(t){f.each(f.functions(t),function(e){var i=f[e]=t[e];f.prototype[e]=function(){var t=[this._wrapped];return r.apply(t,arguments),I.call(this,i.apply(f,t))}})},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];f.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],I.call(this,i)}}),f.each(["concat","join","slice"],function(t){var e=i[t];f.prototype[t]=function(){return I.call(this,e.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}).call(window);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),app=window.app,MarqueeLaya=function(t){function e(t,i){_classCallCheck(this,e);var n=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.init(t,i),n}return _inherits(e,t),_createClass(e,[{key:"init",value:function(t,e){var i={duraing:3e3,intervalTime:{nomal:1e4,win:3e3},modelData:["恭喜*赢了*，实在是太厉害了！","祝贺*赢取*，积少成多从现在开始。","恭喜*赢取*，满屏掌声献给他！"],fontSize:30,color:"#fff",colorHigh:"#14e3f7",font:"微软雅黑"};return t instanceof Laya.Node?(this.parentNode=t,this.options=Object.assign({},i,e),this._initConfig(),this._addMask(),this._createChild(),void this.parentNode.addChild(this)):void console.log(new Error("父元素Error..."))}},{key:"_initConfig",value:function(){this.config={MASKWIDTH:this.parentNode.displayWidth,MASKHEIGHT:this.parentNode.displayHeight,currentType:"nomal",isDataLoop:!1,count:0,noticeArr:[],isGoing:!1},this._labelChildren=null}},{key:"_addMask",value:function(){this.parentNode.mask=new Laya.Sprite,this.parentNode.mask.graphics.clear(),this.parentNode.mask.graphics.drawRect(0,0,this.config.MASKWIDTH,this.config.MASKHEIGHT,"#000000")}},{key:"_createChild",value:function(){for(var t=[],e=0;e<5;e++){var i=new Laya.Label;i.fontSize=this.options.fontSize,i.font=this.options.font,t.push(i)}this._labelChildren=t}},{key:"start",value:function(t){"string"==typeof t||"number"==typeof t?this.config.noticeArr.unshift(t):Array.isArray(t)&&(this.config.noticeArr=t.concat(this.config.noticeArr)),this._marqueeGo()}},{key:"_marqueeGo",value:function(t){var e=this.config;e.isGoing||(e.isGoing=!0,this._renderNextNotice())}},{key:"_renderNextNotice",value:function(){var t=this.config,e=t.noticeArr,i=e.shift();if("undefined"==typeof i)return void(this.config.isGoing=!1);t.isDataLoop&&e.push(i);var n=this._dealWithMsg(i);this._renderLabel(n),this._currentNoticeIn()}},{key:"_dealWithMsg",value:function(t){var e=[t];if("string"==typeof t){var i=t.indexOf("恭喜"),n=t.indexOf("赢取");i!==-1&&n!==-1&&(e=[t.slice(0,i+2),t.slice(i+2,n),t.slice(n,n+2),t.slice(n+2)])}if("object"===("undefined"==typeof t?"undefined":_typeof(t))&&"name"in t&&"award"in t){var o=this.options.modelData[this.config.count++%3].split("*");e=[o[0],t.name,o[1],t.award,o[2]]}return e}},{key:"_renderLabel",value:function(t){var e=this;this.removeChildren(),this.config.currentType=1===t.length?"nomal":"win",t.forEach(function(t,i){var n="";e._labelChildren[i].text=t,n=1===i?e.options.colorHigh:3===i?e.options.colorHigh2||e.options.colorHigh:e.options.color,e._labelChildren[i].color=n});for(var i=0;i<t.length;i++)0!==i&&(this._labelChildren[i].x=this._labelChildren[i-1].x+this._labelChildren[i-1].displayWidth+2),this.addChild(this._labelChildren[i])}},{key:"_currentNoticeIn",value:function(t){this.x=this.config.MASKWIDTH,Laya.Tween.to(this,{x:0},this.options.duraing,Laya.Ease.linearIn,Laya.Handler.create(this,this._currentNoticeOut))}},{key:"_currentNoticeOut",value:function(){var t=this.config,e=Math.ceil(this.displayWidth);Laya.Tween.to(this,{x:-1*e},this.options.duraing,Laya.Ease.linearIn,Laya.Handler.create(this,this._renderNextNotice),this.options.intervalTime[t.currentType])}}]),e}(Laya.Box);app.MarqueeLaya=MarqueeLaya;var CLASS$=Laya.class,STATICATTR$=Laya.static,View=laya.ui.View,Dialog=laya.ui.Dialog,commonPopUI=function(t){function e(){this.txt_box=null,this.btn_box=null,e.__super.call(this)}CLASS$(e,"ui.pop.commonPopUI",t);var i=e.prototype;return i.createChildren=function(){laya.ui.Component.prototype.createChildren.call(this),this.createView(e.uiView)},STATICATTR$(e,["uiView",function(){return this.uiView={type:"Dialog",props:{width:640,height:430},child:[{type:"Image",props:{y:0,x:0,width:640,skin:"pop/bg-base.png",name:"pop_bg",height:430,sizeGrid:"50,62,70,54"}},{type:"Box",props:{y:32,x:20,var:"txt_box"},child:[{type:"Image",props:{width:600,skin:"pop/bottombg.png",name:"txt_bg",height:238,sizeGrid:"31,41,42,44"}},{type:"Label",props:{y:64,x:26,wordWrap:!0,width:548,text:"我是内容部分我是内",name:"txt_content",leading:5,fontSize:28,font:"Microsoft YaHei",color:"#c9bde1",align:"center"}}]},{type:"Box",props:{x:62,var:"btn_box",bottom:20},child:[{type:"Box",props:{name:"btn_sure"},child:[{type:"Image",props:{skin:"pop/recharge/bg22.png"}},{type:"Image",props:{y:42,x:75,skin:"pop/recharge/queding.png"}}]},{type:"Box",props:{x:280,name:"btn_no"},child:[{type:"Image",props:{skin:"pop/recharge/bg1.png"}},{type:"Image",props:{y:41,x:74,skin:"pop/recharge/quxiao.png"}}]}]},{type:"Button",props:{top:-15,stateNum:"1",skin:"pop/close-btn.png",right:-15,name:"close"}}]}}]),e}(Dialog),fudaiPopUI=function(t){function e(){this.dom_fudai=null,this.dom_content_box=null,this.text_content=null,e.__super.call(this)}CLASS$(e,"ui.pop.fudaiPopUI",t);var i=e.prototype;return i.createChildren=function(){View.regComponent("SkeletonPlayer",laya.ani.bone.Skeleton),laya.ui.Component.prototype.createChildren.call(this),this.createView(e.uiView)},STATICATTR$(e,["uiView",function(){return this.uiView={type:"Dialog",props:{width:750,height:1334},child:[{type:"SkeletonPlayer",props:{y:613,x:375,var:"dom_fudai",url:"animate/fudai.sk"}},{type:"Box",props:{y:581,x:165,width:430,var:"dom_content_box",height:47},child:[{type:"Label",props:{y:0,x:0,width:430,visible:!0,var:"text_content",text:"800",height:32,font:"fudai_pop_font",align:"center"}}]}]}}]),e}(Dialog),helpPopUI=function(t){function e(){this.help_glr=null,e.__super.call(this)}CLASS$(e,"ui.pop.helpPopUI",t);var i=e.prototype;return i.createChildren=function(){laya.ui.Component.prototype.createChildren.call(this),this.createView(e.uiView)},STATICATTR$(e,["uiView",function(){return this.uiView={type:"Dialog",props:{y:0,x:0,width:700,height:1040},child:[{type:"Image",props:{y:0,x:0,width:700,skin:"pop/bg-base.png",height:1040,sizeGrid:"50,62,70,54"}},{type:"Image",props:{y:107,x:18,width:660,skin:"pop/bottombg.png",height:909,sizeGrid:"31,41,42,44"}},{type:"Image",props:{y:27,x:234,skin:"pop/help_txt.png"}},{type:"Box",props:{width:700,var:"help_glr"},child:[{type:"Tab",props:{y:943,x:313,space:30,selectedIndex:0,name:"pagination",direction:"horizontal"},child:[{type:"Button",props:{stateNum:"2",skin:"pop/btn_help.png",name:"item0"}},{type:"Button",props:{y:10,x:10,stateNum:"2",skin:"pop/btn_help.png",name:"item1"}}]},{type:"Box",props:{y:126,x:51,name:"con"},child:[{type:"ViewStack",props:{selectedIndex:1,name:"list"},child:[{type:"Box",props:{width:600,name:"item0",height:808},child:[{type:"Image",props:{skin:"pop/page1.png"}}]},{type:"Box",props:{y:0,x:0,width:600,name:"item1",height:808},child:[{type:"Image",props:{skin:"pop/page2.png"}}]}]}]}]},{type:"Button",props:{y:-16,x:646,stateNum:"1",skin:"pop/close-btn.png",name:"close1"}},{type:"Image",props:{y:966,x:217,skin:"pop/jump.png",name:"close2"}}]}}]),e}(Dialog),rankPopUI=function(t){function e(){this.rich_box=null,this.tab_nav=null,this.tab_con=null,this.list_rank_all=null,this.list_rank_my=null,this.dom_loading=null,this.dom_unloaded=null,e.__super.call(this)}CLASS$(e,"ui.pop.rankPopUI",t);var i=e.prototype;return i.createChildren=function(){laya.ui.Component.prototype.createChildren.call(this),this.createView(e.uiView)},STATICATTR$(e,["uiView",function(){return this.uiView={type:"Dialog",props:{width:712,skin:"pop/clip_rich.png",height:1040},child:[{type:"Image",props:{y:0,x:0,width:712,skin:"pop/bg-base.png",height:1040,sizeGrid:"50,62,70,54"}},{type:"Box",props:{y:76,x:24,var:"rich_box"},child:[{type:"Image",props:{skin:"pop/top-bg.png"}},{type:"Image",props:{y:31,x:0,skin:"pop/rich.png"}},{type:"Box",props:{y:38,x:240,name:"item"},child:[{type:"Clip",props:{visible:!0,skin:"pop/clip_richNew.png",name:"rank",clipY:3}},{type:"Label",props:{y:4,x:57,width:155,text:"虚位以待...",name:"name",height:27,fontSize:27,font:"Microsoft YaHei",color:"#d9a5f6",bold:!1}},{type:"Label",props:{y:4,x:220,width:169,name:"point",height:27,fontSize:27,font:"Microsoft YaHei",color:"#dce2fa",bold:!1}}]},{type:"Box",props:{y:98,x:240,name:"item"},child:[{type:"Clip",props:{skin:"pop/clip_richNew.png",name:"rank",index:1,clipY:3}},{type:"Label",props:{y:4,x:57,width:155,text:"虚位以待...",name:"name",height:27,fontSize:27,font:"Microsoft YaHei",color:"#d9a5f6",bold:!1}},{type:"Label",props:{y:4,x:220,width:169,name:"point",height:27,fontSize:27,font:"Microsoft YaHei",color:"#dce2fa",bold:!1}}]},{type:"Box",props:{y:158,x:240,name:"item"},child:[{type:"Clip",props:{skin:"pop/clip_richNew.png",name:"rank",index:2,clipY:3}},{type:"Label",props:{y:4,x:57,width:155,text:"虚位以待...",name:"name",height:27,fontSize:27,font:"Microsoft YaHei",color:"#d9a5f6",bold:!1}},{type:"Label",props:{y:4,x:220,width:169,name:"point",height:27,fontSize:27,font:"Microsoft YaHei",color:"#dce2fa",bold:!1}}]}]},{type:"Image",props:{y:-115,x:112,skin:"pop/phb.png",cacheAs:"normal"}},{type:"Image",props:{y:384,x:21,width:670,skin:"pop/bottombg.png",height:632,sizeGrid:"31,41,42,44"}},{type:"Tab",props:{y:310,x:36,var:"tab_nav",space:5,selectedIndex:0,direction:"horizontal"},child:[{type:"Button",props:{stateNum:2,skin:"pop/btn_day.png",name:"item0"}},{type:"Button",props:{stateNum:2,skin:"pop/btn_week.png",name:"item1"}},{type:"Button",props:{stateNum:2,skin:"pop/btn_month.png",name:"item2"}},{type:"Button",props:{stateNum:2,skin:"pop/btn_my.png",name:"item3"}}]},{type:"ViewStack",props:{y:405,x:61,var:"tab_con",selectedIndex:0},child:[{type:"Box",props:{name:"item0"},child:[{type:"HBox",props:{y:0,x:0,space:35,cacheAs:"bitmap"},child:[{type:"Image",props:{skin:"pop/paim.png"}},{type:"Image",props:{skin:"pop/txt-playname.png"}},{type:"Image",props:{skin:"pop/txt-toubi.png"}},{type:"Image",props:{skin:"pop/paimbh.png"}}]},{type:"Image",props:{y:50,x:1,skin:"pop/xuxian.png"}},{type:"List",props:{y:66,x:17,width:573,var:"list_rank_all",vScrollBarSkin:"pop/vscroll.png",spaceY:18,height:500},child:[{type:"Box",props:{space:45,name:"render",height:50},child:[{type:"Clip",props:{skin:"pop/clip_rich.png",name:"rankIcon",clipY:3}},{type:"Label",props:{y:2,x:11,width:34,text:1,name:"rankNum",height:26,fontSize:26,font:"Microsoft YaHei",color:"#fff",align:"left"}},{type:"Label",props:{y:2,x:91,width:160,name:"name",height:26,fontSize:26,font:"Microsoft YaHei",color:"#fff",align:"center"}},{type:"Label",props:{y:2,x:267,width:160,name:"point",fontSize:26,font:"Microsoft YaHei",color:"#fff",align:"center"}},{type:"Clip",props:{y:3,x:500,skin:"pop/clip_tend.png",name:"tend",clipY:3}}]}]}]},{type:"Box",props:{y:0,x:0,name:"item1"},child:[{type:"HBox",props:{y:0,x:104,space:200,cacheAs:"bitmap"},child:[{type:"Image",props:{skin:"pop/txt-time.png"}},{type:"Image",props:{skin:"pop/txt-yingde.png"}}]},{type:"Image",props:{y:50,x:1,skin:"pop/xuxian.png"}},{type:"List",props:{y:66,x:-5,width:595,var:"list_rank_my",vScrollBarSkin:"pop/vscroll.png",spaceY:18,height:500},child:[{type:"Box",props:{y:0,x:0,width:540,space:30,name:"render",height:50},child:[{type:"Label",props:{y:2,x:0,width:314,text:"0",name:"time",height:26,fontSize:26,font:"Microsoft YaHei",color:"#fff",align:"center"}},{type:"Image",props:{y:2,x:320,visible:!1,skin:"pop/fudai-s.png",name:"isSelf"}},{type:"Label",props:{y:2,x:380,width:160,text:"0",name:"point",fontSize:26,font:"Microsoft YaHei",color:"#fff",align:"center"}}]}]}]}]},{type:"Image",props:{y:-15,x:651,skin:"pop/close-btn.png",name:"close_btn"}},{type:"Label",props:{y:664,x:304,visible:!1,var:"dom_loading",text:"加载中...",fontSize:26,font:"Microsoft YaHei",color:"#fff"}},{type:"Label",props:{y:664,x:304,visible:!1,var:"dom_unloaded",underline:!0,text:"请登录...",fontSize:26,font:"Microsoft YaHei",color:"#d9e200"}}]}}]),e}(Dialog),rechargePopUI=function(t){function e(){this.tab_nav=null,this.btn_buy=null,this.btn_input=null,e.__super.call(this)}CLASS$(e,"ui.pop.rechargePopUI",t);var i=e.prototype;return i.createChildren=function(){laya.ui.Component.prototype.createChildren.call(this),this.createView(e.uiView)},STATICATTR$(e,["uiView",function(){return this.uiView={type:"Dialog",props:{width:650,height:1070},child:[{type:"Image",props:{y:45,x:0,width:650,skin:"pop/bg-base.png",height:1022,sizeGrid:"50,62,70,54"}},{type:"Box",props:{y:-27,x:-30,cacheAs:"bitmap"},child:[{type:"Image",props:{y:122,x:51,width:606,skin:"pop/bottombg.png",height:837,sizeGrid:"31,41,42,44"}},{type:"Image",props:{skin:"pop/recharge/top.png"}},{type:"Image",props:{y:12,x:148,skin:"pop/recharge/chong.png"}},{type:"Image",props:{y:163,x:94,skin:"pop/recharge/txt_asdf.png"}}]},{type:"Tab",props:{y:211,x:55,var:"tab_nav",selectedIndex:2},child:[{type:"Button",props:{stateNum:"2",skin:"pop/recharge/btn_tab.png",name:"item0"}},{type:"Button",props:{y:0,x:274,stateNum:"2",skin:"pop/recharge/btn_tab.png",name:"item1"}},{type:"Button",props:{y:284,x:0,stateNum:"2",skin:"pop/recharge/btn_tab.png",name:"item2"}},{type:"Button",props:{y:284,x:274,stateNum:"2",skin:"pop/recharge/btn_tab.png",name:"item3"}}]},{type:"Box",props:{y:211,x:55,mouseThrough:!0,cacheAs:"bitmap"},child:[{type:"Box",props:{width:266,name:"item0",height:276},child:[{type:"Image",props:{y:30,x:45,skin:"pop/recharge/coin_4.png"}},{type:"Image",props:{y:194,x:28,skin:"pop/recharge/bg_zhi.png"}},{type:"Image",props:{y:208,x:92,skin:"pop/recharge/10元.png"}}]},{type:"Box",props:{x:274,width:266,name:"item1",height:276},child:[{type:"Image",props:{y:25,x:53,skin:"pop/recharge/coin_3.png"}},{type:"Image",props:{y:194,x:28,skin:"pop/recharge/bg_zhi.png"}},{type:"Image",props:{y:208,x:92,skin:"pop/recharge/50元.png"}}]},{type:"Box",props:{y:284,width:266,name:"item2",height:276},child:[{type:"Image",props:{y:6,x:33,skin:"pop/recharge/coin_2.png"}},{type:"Image",props:{y:194,x:28,skin:"pop/recharge/bg_zhi.png"}},{type:"Image",props:{y:208,x:81,skin:"pop/recharge/100元.png"}}]},{type:"Box",props:{y:284,x:274,width:266,name:"item3",height:276},child:[{type:"Image",props:{y:5,x:33,skin:"pop/recharge/coin_1.png"}},{type:"Image",props:{y:194,x:28,skin:"pop/recharge/bg_zhi.png"}},{type:"Image",props:{y:208,x:81,skin:"pop/recharge/500元.png"}}]}]},{type:"Box",props:{y:943,x:198,var:"btn_buy"},child:[{type:"Button",props:{stateNum:"1",skin:"pop/recharge/btn_bg.png"}},{type:"Image",props:{y:26,x:54,skin:"pop/recharge/txt_qcz.png"}}]},{type:"Button",props:{stateNum:"1",skin:"pop/close-btn.png",right:0,name:"close"}},{type:"Box",props:{y:810,x:68,var:"btn_input"},child:[{type:"Image",props:{skin:"pop/recharge/bg_input.png"}},{type:"Label",props:{y:16,x:43,text:"请输入大于0的整数",name:"input_txt",fontSize:30,font:"Microsoft YaHei",color:"#bf93ca"}}]},{type:"Label",props:{y:891,x:100,text:"充值钻石成功后将为您自动兑换为欢乐豆",fontSize:25,font:"Microsoft YaHei",color:"#a9a692"}}]}}]),e}(Dialog),warmNoticeUI=function(t){function e(){this.txt_box=null,this.btn_box=null,e.__super.call(this)}CLASS$(e,"ui.pop.warmNoticeUI",t);var i=e.prototype;return i.createChildren=function(){laya.ui.Component.prototype.createChildren.call(this),this.createView(e.uiView)},STATICATTR$(e,["uiView",function(){return this.uiView={type:"Dialog",props:{width:640,height:460},child:[{type:"Image",props:{y:0,x:0,width:640,skin:"pop/bg-base.png",name:"pop_bg",height:460,sizeGrid:"50,62,70,54"}},{type:"Image",props:{y:28,x:227,skin:"pop/recharge/wenxin.png"}},{type:"Box",props:{y:95,x:20,var:"txt_box"},child:[{type:"Image",props:{y:0,x:0,width:600,skin:"pop/bottombg.png",name:"txt_bg",height:193,sizeGrid:"31,41,42,44"}},{type:"Label",props:{y:64,x:26,wordWrap:!0,width:548,text:"我是内容部分我是内",name:"txt_content",leading:5,fontSize:28,font:"Microsoft YaHei",color:"#c9bde1",align:"center"}}]},{type:"Box",props:{y:286,x:202,var:"btn_box",bottom:20},child:[{type:"Box",props:{name:"btn_sure"},child:[{type:"Image",props:{skin:"pop/recharge/bg22.png"}},{type:"Image",props:{y:42,x:61,skin:"pop/recharge/zhidao.png"}}]}]},{type:"Button",props:{top:-15,stateNum:"1",skin:"pop/close-btn.png",right:-15,name:"close"}}]}}]),e}(Dialog),winPopUI=function(t){function e(){e.__super.call(this)}CLASS$(e,"ui.pop.winPopUI",t);var i=e.prototype;return i.createChildren=function(){View.regComponent("SkeletonPlayer",laya.ani.bone.Skeleton),laya.ui.Component.prototype.createChildren.call(this),this.createView(e.uiView)},STATICATTR$(e,["uiView",function(){return this.uiView={type:"View",props:{width:750,height:1334},child:[{type:"Label",props:{width:1334,text:"label",height:1334,centerY:0,centerX:0,bgColor:"#000",alpha:.5}},{type:"SkeletonPlayer",props:{y:696,x:389,url:"animate/win.sk",name:"dom_animate"}},{type:"Label",props:{y:696,x:248,width:294,text:"+200",name:"dom_award",height:65,font:"result_win_font",align:"center"}},{type:"Label",props:{y:630,x:248,width:294,text:"*2",name:"dom_inner",height:65,font:"yellow_font",align:"center"}},{type:"Label",props:{y:565,x:248,width:294,text:"*1.2",name:"dom_outer",height:65,font:"purple_font",align:"center"}}]}}]),e}(View),loadingUI=function(t){function e(){this.dom_process_txt=null,this.dom_process_img=null,e.__super.call(this)}CLASS$(e,"ui.room.loadingUI",t);var i=e.prototype;return i.createChildren=function(){laya.ui.Component.prototype.createChildren.call(this),this.createView(e.uiView)},STATICATTR$(e,["uiView",function(){return this.uiView={type:"View",props:{width:750,height:1334},child:[{type:"Image",props:{y:0,skin:"loading/loadingbg.jpg",centerX:0}},{type:"Image",props:{y:1180,x:74,skin:"loading/notice.png"}},{type:"Image",props:{y:1080,x:70,skin:"loading/bg.png",sizeGrid:"0,10,0,10"}},{type:"Box",props:{y:1018,x:273},child:[{type:"Label",props:{text:"加载中...",fontSize:30,font:"Microsoft YaHei",color:"#fff",bold:!1}},{type:"Label",props:{x:158,var:"dom_process_txt",text:"0%",fontSize:30,font:"Microsoft YaHei",color:"#fff",bold:!1,align:"right"}}]},{type:"Image",props:{y:1087,x:75,width:30,var:"dom_process_img",skin:"loading/prosess.png",sizeGrid:"0,15,0,15"}},{type:"Image",props:{y:305,x:584,skin:"loading/neice.png"}}]}}]),e}(View),roomUI=function(t){function e(){this.dom_light_start=null,this.middle_box=null,this.rotation_box=null,this.dom_small_light=null,this.fudai_box=null,this.star_box=null,this.star_num_box=null,this.bottom_box=null,this.top_box=null,e.__super.call(this)}CLASS$(e,"ui.room.roomUI",t);var i=e.prototype;return i.createChildren=function(){View.regComponent("SkeletonPlayer",laya.ani.bone.Skeleton),laya.ui.Component.prototype.createChildren.call(this),this.createView(e.uiView)},STATICATTR$(e,["uiView",function(){return this.uiView={type:"View",props:{y:0,width:750,name:"yu_num",height:1334},child:[{type:"Image",props:{y:0,skin:"room/roombg.jpg",centerX:0}},{type:"SkeletonPlayer",props:{y:710,x:397,var:"dom_light_start",url:"animate/light.sk"}},{type:"Box",props:{y:0,x:1,width:750,var:"middle_box"},child:[{type:"SkeletonPlayer",props:{y:624,x:350,url:"animate/girl.sk"}},{type:"SkeletonPlayer",props:{y:243,x:372,url:"animate/logo.sk"}},{type:"Image",props:{y:205.00000000000003,x:536.0000000000001,skin:"loading/neice.png"}},{type:"Image",props:{y:167,x:620,skin:"room/rank.png",name:"btn_rank"}},{type:"Image",props:{y:302,x:646,visible:!1,skin:"room/notice.png",name:"btn_notice"}},{type:"Image",props:{y:315,x:699,visible:!1,skin:"room/red.png",name:"dom_redPoint"}},{type:"Box",props:{y:654,x:371,width:749,var:"rotation_box",rotation:0,pivotY:375,pivotX:375,height:749},child:[{type:"Image",props:{skin:"room/outround.png"}},{type:"Label",props:{y:85,x:540,text:"*8",rotation:30,font:"outer_base_font",anchorY:.5,anchorX:.5}},{type:"Label",props:{y:373,x:710,text:"*2",rotation:90,font:"outer_base_font",anchorY:.5,anchorX:.5}},{type:"Label",props:{y:664,x:213,text:"*4",rotation:210,font:"outer_base_font",anchorY:.5,anchorX:.5}},{type:"Label",props:{y:381,x:45,text:"*2",rotation:270,font:"outer_base_font",anchorY:.5,anchorX:.5}},{type:"Box",props:{y:631,x:509,name:"wenhao"},child:[{type:"Label",props:{y:35,x:33,width:80,text:"?",rotation:150,height:32,font:"outer_base_font",anchorY:.5,anchorX:.5,align:"center"}},{type:"Image",props:{y:32,x:25,width:55,visible:!1,skin:"room/bang.png",rotation:185,pivotY:36.76662202421965,pivotX:25.49976969737452,height:75}}]},{type:"Box",props:{y:64,x:183.1435929640691,name:"wenhao"},child:[{type:"Label",props:{y:23,x:25,width:80,text:"?",rotation:330,font:"outer_base_font",anchorY:.5,anchorX:.5,align:"center"}},{type:"Image",props:{y:-9,x:2,visible:!1,skin:"room/bang.png"}}]}]},{type:"SkeletonPlayer",props:{y:650,x:371,url:"animate/spark.sk",name:"dom_fire_animate"}},{type:"Image",props:{y:326,x:51,skin:"room/round.png"}},{type:"SkeletonPlayer",props:{y:655,x:372,var:"dom_small_light",url:"animate/round.sk"}},{type:"Box",props:{y:473,x:190,width:360,var:"fudai_box",height:360},child:[{type:"Image",props:{y:145,x:26,width:307,skin:"room/coin_bg.png",height:72}},{type:"Image",props:{y:48,x:64,skin:"room/fudai.png"}},{type:"Image",props:{y:238,x:61,skin:"room/win_bg.png"}},{type:"SkeletonPlayer",props:{y:96,x:218,url:"animate/magic.sk",name:"dom_magic"}},{type:"Label",props:{y:164,x:39,width:281,text:"0",name:"fudai_all",height:32,font:"fudai_all_font",align:"center"}},{type:"Label",props:{y:254,x:115,width:177,text:"0",name:"fudai_win",height:32,font:"fudai_win_font",align:"center"}},{type:"Label",props:{y:102,x:240,width:91,text:"0/10",name:"bang_num",height:32,fontSize:32,font:"Microsoft YaHei",color:"#522c03",bold:!0,align:"right"}},{type:"SkeletonPlayer",props:{y:207,x:200,url:"animate/magic2.sk",name:"dom_magic_big"}}]},{type:"Image",props:{y:653,x:372,width:331,skin:"room/saoguang.png",rotation:0,pivotY:274,pivotX:262,name:"dom_three_light",height:228}},{type:"Box",props:{x:0,var:"star_box"},child:[{type:"Image",props:{y:368,x:320,skin:"room/star_blue.png"}},{type:"Image",props:{y:397,x:443,skin:"room/star_yellow.png"}},{type:"Image",props:{y:484,x:522,skin:"room/star_blue.png"}},{type:"Image",props:{y:604,x:551,skin:"room/star_yellow.png"}},{type:"Image",props:{y:720,x:526,skin:"room/star_blue.png"}},{type:"Image",props:{y:799,x:436,skin:"room/star_yellow.png"}},{type:"Image",props:{y:840,x:321,skin:"room/star_blue.png"}},{type:"Image",props:{y:799,x:205,skin:"room/star_yellow.png"}},{type:"Image",props:{y:719,x:116,skin:"room/star_blue.png"}},{type:"Image",props:{y:601,x:90,skin:"room/star_yellow.png"}},{type:"Image",props:{y:483,x:124,skin:"room/star_blue.png"}},{type:"Image",props:{y:397,x:205,skin:"room/star_yellow.png"}}]},{type:"Box",props:{x:-4,var:"star_num_box",cacheAs:"bitmap"},child:[{type:"Image",props:{y:406,x:350,skin:"room/1.2.png"}},{type:"Image",props:{y:435,x:471,skin:"room/1.5.png"}},{type:"Image",props:{y:523,x:565,skin:"room/2.png"}},{type:"Image",props:{y:642,x:580,skin:"room/1.2.png"}},{type:"Image",props:{y:759,x:554,skin:"room/1.5.png"}},{type:"Image",props:{y:837,x:478,skin:"room/2.png"}},{type:"Image",props:{y:879,x:350,skin:"room/1.2.png"}},{type:"Image",props:{y:837,x:233,skin:"room/1.5.png"}},{type:"Image",props:{y:758,x:158,skin:"room/2.png"}},{type:"Image",props:{y:640,x:118,skin:"room/1.2.png"}},{type:"Image",props:{y:522,x:152,skin:"room/1.5.png"}},{type:"Image",props:{y:435,x:247,skin:"room/2.png"}}]},{type:"SkeletonPlayer",props:{y:662,x:369,url:"animate/star.sk",name:"star_light"}},{type:"SkeletonPlayer",props:{y:656,x:371,url:"animate/star.sk",rotation:0,name:"star_ladder"}}]},{type:"Box",props:{y:0,x:0,var:"bottom_box",mouseThrough:!0},child:[{type:"Image",props:{y:919,x:22,skin:"room/recharge.png",name:"btn_recharge"}},{type:"Image",props:{y:1100,x:30,skin:"room/help_bg.png"}},{type:"Image",props:{y:1216,x:176,skin:"room/sub.png",name:"btn_sub"}},{type:"Image",props:{y:1216,x:623,skin:"room/add.png",name:"btn_add"}},{type:"Image",props:{y:1216,x:29,skin:"room/max.png",name:"btn_max"}},{type:"Box",props:{y:980,x:598,width:144,name:"start_blue_box",height:146},child:[{type:"SkeletonPlayer",props:{y:80,x:71,url:"animate/button.sk"}}]},{type:"Box",props:{y:1067,x:402,width:144,name:"start_yellow_box",height:146},child:[{type:"SkeletonPlayer",props:{y:80,x:71,url:"animate/button.sk"}}]},{type:"Box",props:{y:1218,x:285,name:"input_box"},child:[{type:"Image",props:{skin:"room/inp_bg.png"}},{type:"Label",props:{y:30,x:39,width:259,text:"100",name:"dom_input",height:32,font:"input_font",align:"center"}}]},{type:"SkeletonPlayer",props:{y:1127,x:694,url:"animate/finger.sk",name:"dom_finger",mouseEnabled:!0}}]},{type:"Box",props:{y:0,x:0,width:"750",var:"top_box"},child:[{type:"Image",props:{y:0,x:13,skin:"room/top_bg.png"}},{type:"Image",props:{y:9,x:10,skin:"room/back.png",name:"btn_back"}},{type:"Image",props:{y:98,x:10,skin:"room/home.png",name:"btn_home"}},{type:"Box",props:{y:93,x:648,visible:!1,name:"more_box"},child:[{type:"Image",props:{skin:"pop/morebg.png"}},{type:"Clip",props:{y:89,x:7,skin:"pop/clip_sound.png",name:"sound_btn",clipY:2}},{type:"Image",props:{y:171,x:7,skin:"pop/help.png",name:"help_btn"}}]},{type:"Image",props:{y:98,x:657,skin:"room/caidan.png",name:"btn_menu"}},{type:"Box",props:{y:107,x:45,name:"marquee_box"},child:[{type:"Image",props:{skin:"room/marquee_bg.png"}},{type:"Box",props:{y:0,x:55,width:549,name:"dom_marquee",height:52}}]},{type:"Box",props:{y:9,x:128,name:"yu_box"},child:[{type:"Image",props:{skin:"room/num_bg.png"}},{type:"Image",props:{y:-5,x:-9,skin:"room/you.png"}},{type:"Image",props:{y:-1,x:217,skin:"room/add_zhi.png",name:"btn_chong"}},{type:"Label",props:{y:10,x:59,width:157,text:"0",name:"yu_num",height:30,fontSize:30,font:"Microsoft YaHei",color:"#c4c4c4",align:"right"}}]},{type:"Box",props:{y:9,x:430,name:"you_box"},child:[{type:"Image",props:{skin:"room/num_bg.png"}},{type:"Image",props:{y:-1,x:-8,skin:"room/yu.png"}},{type:"Label",props:{y:10,x:59,width:157,text:"0",name:"you_num",height:30,fontSize:30,font:"Microsoft YaHei",color:"#c4c4c4",align:"right"}}]}]}]}}]),e}(View),testUI=function(t){function e(){e.__super.call(this)}CLASS$(e,"ui.room.testUI",t);var i=e.prototype;return i.createChildren=function(){laya.ui.Component.prototype.createChildren.call(this),this.createView(e.uiView)},STATICATTR$(e,["uiView",function(){return this.uiView={type:"View",props:{x:407,width:750,height:1334}}}]),e}(View),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(){}window.Sail=window.Sail||{};var e=function(){function t(t){var e,a;return!(!t||"[object Object]"!==i.call(t))&&(!(e=Object.getPrototypeOf(t))||(a=n.call(e,"constructor")&&e.constructor,"function"==typeof a&&o.call(a)===r))}var e={},i=e.toString,n=e.hasOwnProperty,o=n.toString,r=o.call(Object);return t}();Laya.class(t,"Sail.Utils"),t.createSkeleton=function(t,e,i){e=e||30,i=i||0;var n=Laya.loader.getRes(t+".png"),o=Laya.loader.getRes(t+".sk");if(!n||!o)return null;var r=new Laya.Templet;return r.parseData(n,o,e),r.buildArmature(i)},t.getStringLength=function(t){return(""+t.replace(/[^\x00-\xff]/gi,"ox")).length},t.cutStr=function(t,e){t+="";var i=/[^\x00-\xff]/g;if(t.replace(i,"mm").length<=e)return t;for(var n=Math.floor(e/2),o=n;o<t.length;o++)if(t.substr(0,o).replace(i,"mm").length>=e)return t.substr(0,o)+"...";return t},t.getUrlParam=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null},t.extend=function(){var i,n,o,r,a,s,u=arguments[0]||{},l=1,c=arguments.length,h=!1;for("boolean"==typeof u&&(h=u,u=arguments[l]||{},l++),"object"!==("undefined"==typeof u?"undefined":_typeof(u))&&"function"!==!("undefined"==typeof u?"undefined":_typeof(u))&&(u={}),l===c&&(u=this,l--);l<c;l++)if(null!=(i=arguments[l]))for(n in i)o=u[n],r=i[n],u!==r&&(h&&r&&(e(r)||(a=Array.isArray(r)))?(a?(a=!1,s=o&&Array.isArray(o)?o:[]):s=o&&e(o)?o:{},u[n]=t.extend(h,s,r)):void 0!==r&&(u[n]=r));return u}}(),function(){var t=Sail&&Sail.Utils||$,e={confirm:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAWlBMVEUAAADMQkLLQkLLQkL9Y2PLQkLLQkL9Y2PMQkL9Y2PLQkLLQkLdTk75YGD7YmL9Y2P2Xl77YmL9Y2P9Y2P9Y2PLQkL9Y2PLQkL3Xl7cTU3tWFj5YGDoVVXmVFTAQB7jAAAAFnRSTlMA4qyPiltUU9sGBvr59e3cyl/fplYHf9H6ogAAAJVJREFUKM/lzFkOhCAQRdEHCs5TD1WAuv9ttm00xii1Ae/vSS7Wis/7Ree6DHtZRzelm6Z0XyrpUvY/U7S2QNFSvAEDCfXoJW7QkBTooTzK7CR1CBIH1BLXyIX7qKB9nL2G4TmmMxuUiqd7nVh9Acvs3RWdZ7ZYSpjZB3eysCAnwOaXDgVsfsXcAnul0ao6qFLalCv8AOM4RjeBMUEAAAAAAElFTkSuQmCC",delete:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAb1BMVEUAAADLy8ttbGzMzMzMzMxtbGzMzMxtbGzMzMxtbGzMzMxubW3MzMxtbGxtbGyQj4/MzMxtbGxtbGzMzMzMzMzMzMzMzMzMzMzMzMxwb29tbGzMzMxtbGzBwcGtra2NjIy/vr6goKCPjo6kpKSko6Pen5mzAAAAG3RSTlMA/N2piVtVVAYGA+ParPr54ZSKW1Hz5OPf2quDrJY6AAAAqklEQVQoz9XPSQ6DMBBE0TKEeR4yum0Dyf3PGCARLLA76/ztk0oqrMWhfxNy65z7YYytPpeH8v6L6UlaO6Urz+rwRUPpLATiq5svMTrJ1MHn2EfNcQ3BsYBk+2P+8XvgWEFzrFFxXOGumO0MD+NmUyCg0aUjBUgyetn1SVkCRETG8m4wRBHmWiKatBI7CaUnImqxlDZkrUnxKfKO6EXYSoLCK3cqvSJIVngDsvlU0+yaOfMAAAAASUVORK5CYII=",number:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAeFBMVEUAAADGxsa3t7f///////////////////+3t7e3t7fo6Oi3t7fT09P///////+3t7e6urr///+3t7f///+3t7e3t7f///////////////+3t7e3t7f///+3t7fQ0ND29vb19fX7+/v39/fo6Ojh4eHe3t65ubm4uLiqIy5xAAAAHHRSTlMABeKJVQb64VtV/Prp5NvbrqysppSKW1Hz11xTZZ6wfwAAAKVJREFUKM/d00cSgzAQRNEWOefgIIkM97+hMbhwuUBzAP/tq1nMorFlGrlt8aPbPTdMHNURPxXVH2Q6v0xnG6+q8LcaXJkBmKGaQxMVJ6qQUpzCptiGRbEFTva/3FHaoaW4gUexh4DiAEmv1j6BI9UsH2DapNJJY4C7jNc6Li7WSiHbM7ZSlPsMCjHLofn5d5CzKBj2nrE4Fbs4Yk6m+V/ytczZT1+rJlhgr8lBXAAAAABJRU5ErkJggg=="},i="public/keyboard_"+(9999999*Math.random()|0)+"/",n=[{text:"1",skin:"number",x:20,y:15},{text:"2",skin:"number",x:280,y:15},{text:"3",skin:"number",x:545,y:15},{text:"4",skin:"number",x:20,y:125},{text:"5",skin:"number",x:280,y:125},{text:"6",skin:"number",x:545,y:125},{text:"7",skin:"number",x:20,y:235},{text:"8",skin:"number",x:280,y:235},{text:"9",skin:"number",x:545,y:235},{text:"0",skin:"number",x:810,y:15},{text:"00",skin:"number",x:810,y:125},{text:".",skin:"number",x:810,y:235},{text:"确定",skin:"confirm",x:1070,y:15},{text:"删除",skin:"delete",x:1070,y:235}],o=Laya.Event.CLICK,r=function(t){function e(){
e.super(this),this.configAlpha=null,this.configColor=null,this.closeOnSide=!1,this.on(o,this,function(){this.closeOnSide&&this.event("exit",["mask",null])})}Laya.class(e,"",t);var i=e.prototype;return i.update=function(t,e,i,n,o){this.alpha=this.configAlpha=i,this.configColor=n,this.closeOnSide=o,this.resize(t,e)},i.resize=function(t,e){this.size(t,e),this.graphics.clear(),this.graphics.drawRect(0,0,this.width,this.height,this.configColor),this.alpha=this.configAlpha},e}(Laya.Sprite),a=function(t){function e(){e.super(this),this.Mask=null,this.textValue=null,this.originHeight=null,this.init()}Laya.class(e,"KeyBoard.InputText",t);var i=e.prototype;return i.destroy=function(){t.prototype.destroy.call(this,!0),this.Mask=null,this.textValue=null,this.originHeight=null},i.init=function(t){this.originHeight=60;var e=new r;e.update(this.width,this.height,.5,"#000000",!1);var i=new Laya.Label;i.height=30,i.fontSize=30,i.align="center",this.Mask=e,this.textValue=i,this.addChildren(e,i)},i.update=function(t,e){this.textValue.color=e,this.textValue.text=t},i.resize=function(t,e){var i=e/1334;this.size(t,this.originHeight*i),this.Mask.resize(this.width,this.height),this.textValue.width=t,this.textValue.bottom=0,this.top=-this.height},e}(Laya.Box),s=function(t){function e(t,i){e.super(this),this.config=null,this.callback=null,this.label=null,this.init(t,i)}Laya.class(e,"",t);var n=e.prototype;return n.destroy=function(){t.prototype.destroy.call(this,!0),this.config=null,this.callback=null,this.label=null},n.init=function(t,e){t.width=240,t.height="confirm"===t.skin?210:100,this.config=t,this.skin=i+t.skin+".png",this.sizeGrid="15,15,15,15",this.resize(Laya.stage.width,Laya.stage.height),this.create(t),this.on(o,this,e,[t.text])},n.create=function(t){var e=new Laya.Label(t.text);e.color="confirm"===t.skin?"#ffffff":"#1c1c1c",e.font="arial",e.align="center",e.fontSize=40,e.size(this.width,e.fontSize),e.centerY=0,this.label=e,this.addChild(e)},n.resize=function(t,e){var i=t/1334,n=e/1334;this.size(this.config.width*i,this.config.height*n),this.pos(this.config.x*i,this.config.y*n),this.label&&(this.label.width=this.width)},e}(Laya.Image),u=function(t){function e(){e.super(this),this.keys=[],this.textValue="",this.inputText=null,this.panelMask=null,this.init()}Laya.class(e,"",t);var i=e.prototype;return i.destroy=function(){t.prototype.destroy.call(this,!0)},i.init=function(){var e=Laya.stage.height;e=e<750?750:e,this.size(Laya.stage.width,e/1334*350),this.bottom=-this.height;var i=new r;i.update(this.width,this.height,.5,"#000000",!1);var o=new a;o.resize(this.width,e),this.inputText=o,this.panelMask=i,this.addChildren(i,o);for(var u in n)this.keys.push(new s(n[u],this.onClick.bind(this)));t.prototype.addChildren.apply(this,this.keys)},i.onClick=function(t){this.event("input",[t])},i.update=function(t,e){this.inputText.update(t,e)},i.enter=function(t){this.inputText.update(t,"#ffffff"),Laya.Tween.to(this,{bottom:0},300,Laya.Ease.linearIn)},i.exit=function(t){Laya.Tween.to(this,{bottom:-this.height},200,Laya.Ease.linearIn,Laya.Handler.create(this,function(t){this.event("exit",[t])},[t]))},i.resize=function(t,e){e=e<750?750:e;var i=e/1334;this.size(t,350*i),this.panelMask.resize(this.width,this.height),this.inputText.resize(t,e);for(var n in this.keys)this.keys[n].resize(t,e)},e}(Laya.Box);!function(n){function o(){o.super(this),this.keyBoardMask=null,this.keyBoardPanel=null,this.config=null,this.textValue="",this.firstInput=!1,this.loadAssets()}var a={closeOnSide:!0,shadowAlpha:.3,shadowColor:"#000000",nullMsg:"输入的值不能为空",length:11,float:!1,fixed:4,input:function(t){console.log("当前输入值："+t)},close:function(t,e){"confirm"===t?console.log("点击了确定按钮，关闭输入键盘，当前值："+e):console.log("点击了遮罩，关闭输入键盘。")}};Laya.class(o,"Tools.KeyBoardNumber",n);var s=o.prototype;s.destroy=function(){Laya.stage.off(Laya.Event.RESIZE,this,this.onResize),n.prototype.destroy.call(this,!0),this.keyBoardMask=null,this.keyBoardPanel=null,this.config=null,this.textValue=null},s.loadAssets=function(){var t=this,n=0,o=Object.keys(e).length;for(var r in e)!function(e,r){var a=new Laya.HTMLImage.create(r,{onload:function(){Laya.Loader.cacheRes(i+e+".png",new Laya.Texture(a)),n++,n===o&&t.init()}})}(r,e[r])},s.init=function(){this.size(Laya.stage.width,Laya.stage.height),this.zOrder=1e3;var t=new u(this.removeSelf.bind(this));t.on("input",this,this.onInput),t.on("exit",this,this.onExit);var e=new r;e.on("exit",this,function(e){t.exit(e)}),this.keyBoardMask=e,this.keyBoardPanel=t,this.addChildren(e,t),Laya.stage.on(Laya.Event.RESIZE,this,this.onResize)},s.onExit=function(t){this.removeSelf(),this.config.close&&this.config.close(t,"confirm"===t?this.textValue+"":null),this.textValue="",this.firstInput=!1},s.onInput=function(t){switch(t){case"删除":var t=this.textValue.split("");t.pop(),this.textValue=t.join(""),this.textValue?this.keyBoardPanel.update(this.textValue,"#ffffff"):this.keyBoardPanel.update(this.config.nullMsg,"#ff0000"),this.config.input&&this.config.input(this.textValue);break;case"确定":this.keyBoardPanel.exit("confirm");break;default:if(this.firstInput&&(this.textValue="",this.firstInput=!1),"."===t){if(this.config.float!==!0)return;if(""==this.textValue&&(t="0."),this.textValue.indexOf(".")!=-1)return}if(this.config.float===!0){var e=this.textValue.split(".")[1];if(e&&e.length>=this.config.fixed)return}if((this.textValue+t).length>this.config.length)return;this.textValue=this.textValue+t,this.textValue=this.textValue.replace(/^0+/,""),this.config.input&&this.config.input(this.textValue),this.textValue?this.keyBoardPanel.update(this.textValue,"#ffffff"):this.keyBoardPanel.update(this.config.nullMsg,"#ff0000")}},s.enter=function(e,i){this.config=t.extend({},a,i),this.textValue=e+"",Laya.timer.callLater(this,function(){this.keyBoardMask.update(this.width,this.height,this.config.shadowAlpha,this.config.shadowColor,this.config.closeOnSide),this.keyBoardPanel.enter(this.textValue,this.config)}),Laya.stage.addChild(this)},s.onResize=function(){var t=Laya.stage.width,e=Laya.stage.height;this.size(t,e),this.keyBoardMask.resize(t,e),this.keyBoardPanel.resize(t,e)}}(Laya.Box)}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=window.app,e=window.commonPopUI,i=window.warmNoticeUI,n=function(e){function i(){_classCallCheck(this,i);var t=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.init(),t}return _inherits(i,e),_createClass(i,[{key:"init",value:function(){this.initDom(),this.initEvent(),this.initConfig()}},{key:"initDom",value:function(){this.pop_bg=this.getChildByName("pop_bg"),this.btn_sure=this.btn_box.getChildByName("btn_sure"),this.btn_no=this.btn_box.getChildByName("btn_no"),this.txt_bg=this.txt_box.getChildByName("txt_bg"),this.txt_content=this.txt_box.getChildByName("txt_content")}},{key:"initEvent",value:function(){this.btn_sure.on(Laya.Event.CLICK,this,this.myClose),this.btn_no.on(Laya.Event.CLICK,this,this.close),t.observer.subscribe("commonPopShow",this.myShow.bind(this))}},{key:"initConfig",value:function(){this.config={limitTime:!1,txtBgDis:this.txt_content.y,popBgDis:this.pop_bg.height-this.txt_bg.height,timeout:"由于超时未操作，系统以为您退出房间！",unstable:"客观，您的网络不稳定，请检查网络！"},this.callback=null}},{key:"myShow",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],o=this.config[t]?this.config[t]:t;if(this.txt_content.text!==o||!this.config.limitTime){this.config.limitTime=!0,Laya.timer.once(3e3,this,function(){e.config.limitTime=!1}),this.txt_content.text=o;var r=this.txt_content.displayHeight;this.txt_bg.height=2*this.config.txtBgDis+r,this.pop_bg.height=this.config.popBgDis+this.txt_bg.height,this.height=this.pop_bg.height,"function"==typeof n?this.callback=n:this.callback=null,i?this.popup():this.show()}}},{key:"myClose",value:function(){"function"==typeof this.callback&&(this.callback(),this.callback=null),this.txt_content.text="",this.close()}}]),i}(e),o=function(e){function i(){_classCallCheck(this,i);var t=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.init(),t}return _inherits(i,e),_createClass(i,[{key:"init",value:function(){this.initDom(),this.initEvent(),this.initConfig()}},{key:"initDom",value:function(){this.pop_bg=this.getChildByName("pop_bg"),this.btn_sure=this.btn_box.getChildByName("btn_sure"),this.txt_bg=this.txt_box.getChildByName("txt_bg"),this.txt_content=this.txt_box.getChildByName("txt_content")}},{key:"initEvent",value:function(){this.btn_sure.on(Laya.Event.CLICK,this,this.close),t.observer.subscribe("warmNoticePopShow",this.myShow.bind(this)),t.observer.subscribe("warmNoticePopHide",this.myClose.bind(this))}},{key:"initConfig",value:function(){this.config={limitTime:!1,txtBgDis:this.txt_content.y,popBgDis:this.pop_bg.height-this.txt_bg.height},this.callback=null}},{key:"myShow",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(arguments[2],this.config[t]?this.config[t]:t);if(this.txt_content.text!==n||!this.config.limitTime){this.config.limitTime=!0,Laya.timer.once(3e3,this,function(){e.config.limitTime=!1}),this.txt_content.text=n;var o=this.txt_content.displayHeight;this.txt_bg.height=2*this.config.txtBgDis+o,this.pop_bg.height=this.config.popBgDis+this.txt_bg.height,this.height=this.pop_bg.height,i?this.popup():this.show()}}},{key:"myClose",value:function(){this.txt_content.text="",this.close()}}]),i}(i);t.CommonPopDialog=n,t.WarmNoticePopDialog=o}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=window.app,e=window.fudaiPopUI,i=function(e){function i(){var t;_classCallCheck(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=_possibleConstructorReturn(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(n)));return r.init(),r}return _inherits(i,e),_createClass(i,[{key:"init",value:function(){this.initDom(),this.initConfig(),this.addMask(),this.registerAction()}},{key:"registerAction",value:function(){t.observer.subscribe("fudaiPopShow",this.myShow.bind(this))}},{key:"dispatchAction",value:function(e){t.messageCenter.emitAjax("userAccount")}},{key:"initDom",value:function(){this.dom_fudai.stop()}},{key:"initConfig",value:function(){this.config={MASK_W:this.dom_content_box.width,MASK_H:this.dom_content_box.height,currentW:0}}},{key:"initEvent",value:function(){}},{key:"addMask",value:function(){this.text_content.mask=new Laya.Sprite}},{key:"maskChange",value:function(){this.config.currentW+=16;var t=this.config.MASK_W/2-this.config.currentW/2;return t<=0?void Laya.timer.clear(this,this.maskChange):(this.text_content.mask.graphics.clear(),void this.text_content.mask.graphics.drawRect(t,0,this.config.currentW,this.config.MASK_H,"#000000"))}},{key:"maskAnimateGo",value:function(){Laya.timer.loop(50,this,this.maskChange)}},{key:"myShow",value:function(t,e){var i=this;0===Number(t.code)&&(this.dom_fudai.once(Laya.Event.STOPPED,this,function(){i.dom_fudai.play("loop",!0),e&&e(t.totalKeys),Laya.timer.once(5e3,i,i.reset)}),this.maskAnimateGo(),this.dom_fudai.play("start",!1),this.text_content.text=t.amount,this.dispatchAction(t),this.popup())}},{key:"reset",value:function(){this.dom_fudai.stop(),Laya.timer.clear(this,this.maskChange),this.config.currentW=0,this.close()}}]),i}(e);t.FudaiPopUIDialog=i}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=window.app,e=window.GM,i=function(){function i(t){_classCallCheck(this,i),this.sceneName="headerScene",this.top_box=t,this.init()}return _createClass(i,[{key:"init",value:function(){this.top_box.zOrder=1,this.initDom(),this.initConfig(),this.initEvent(),this.initSoundState(),this.registerAction(),this.isShowBtnBackHandler(),this.isShowBtnHomeHandler()}},{key:"registerAction",value:function(){t.messageCenter.registerAction("userAccount",this.renderUserAmount.bind(this)).registerAction("marquee",this.noticeMainHandler.bind(this)).registerAction("losePointStatus",this.losePointStatusFn.bind(this)).registerAction("losePoint",this.losePointFn.bind(this)),t.observer.subscribe("updateUserYuDou",this.updateUserYuDou.bind(this))}},{key:"dispatchAction",value:function(){t.messageCenter.emitAjax("userAccount")}},{key:"initDom",value:function(){this.btn_back=this.top_box.getChildByName("btn_back"),this.btn_back.visible=!1,this.btn_home=this.top_box.getChildByName("btn_home"),this.btn_home.visible=!1,this.btn_menu=this.top_box.getChildByName("btn_menu"),this.more_box=this.top_box.getChildByName("more_box"),this.sound_btn=this.more_box.getChildByName("sound_btn"),this.help_btn=this.more_box.getChildByName("help_btn"),this.yu_box=this.top_box.getChildByName("yu_box"),this.you_box=this.top_box.getChildByName("you_box"),this.marquee_box=this.top_box.getChildByName("marquee_box"),this.dom_marquee=this.marquee_box.getChildByName("dom_marquee"),this.btn_chong=this.yu_box.getChildByName("btn_chong"),this.dom_dou_num=this.yu_box.getChildByName("yu_num"),this.dom_yu_num=this.you_box.getChildByName("you_num"),this.initMarquee()}},{key:"initConfig",value:function(){this.config={isFirstDefault:!1,soundStateKey:"superstars_sound",stateSound:"",tingDou:0,yuNum:0}}},{key:"initEvent",value:function(){var e=this;this.btn_menu.on(Laya.Event.CLICK,this,function(){e.more_box.visible=!e.more_box.visible,t.audio.play("click")}),this.sound_btn.on(Laya.Event.CLICK,this,this.changeSoundState),this.help_btn.on(Laya.Event.CLICK,this,function(){t.observer.publish("helpPopShow"),e.more_box.visible=!1,t.audio.play("click")}),this.dom_yu_num.on(Laya.Event.CLICK,this,this.yuNumPopBalanceShow),this.btn_chong.on(Laya.Event.CLICK,this,function(){t.observer.publish("rechargePopShow"),t.audio.play("click")}),Laya.stage.on(Laya.Event.CLICK,this,function(t){var i=t.target;e.more_box.visible&&i!==e.btn_menu&&i!==e.more_box&&!e.more_box.contains(i)&&(e.more_box.visible=!1)})}},{key:"initMarquee",value:function(){var e={colorHigh2:"#ffe400",fontSize:25};this.dom_marquee.y=8,this.marquee_ui_box=new t.MarqueeLaya(this.dom_marquee,e)}},{key:"noticeMainHandler",value:function(t){0===Number(t.code)&&this.marquee_ui_box.start(t.notice)}},{key:"initSoundState",value:function(){var e=t.audio.getCookie(this.config.soundStateKey);return"false"===e?(this.config.stateSound="false",this.sound_btn.index=1,void t.audio.setMuted()):(""===e&&t.audio.setCookie(this.config.soundStateKey,"true"),this.config.stateSound="true",this.sound_btn.index=0,void t.audio.setMutedNot())}},{key:"changeSoundState",value:function(){t.audio.play("click"),"true"===this.config.stateSound?(this.config.stateSound="false",this.sound_btn.index=1,t.audio.setMuted()):(this.config.stateSound="true",this.sound_btn.index=0,t.audio.setMutedNot()),t.audio.setCookie(this.config.soundStateKey,this.config.stateSound)}},{key:"renderUserAmount",value:function(e){this.config.tingDou=Number(e.TCoin)||0,this.config.yuNum=Number(e.total)-this.config.tingDou||0,this.dom_dou_num.text=t.utils.getActiveStr(this.config.tingDou),this.dom_yu_num.text=t.utils.getActiveStr(this.config.yuNum),this.defaultInputNotice()}},{key:"updateUserYuDou",value:function(t){t>=0?this._updateUserYu(t):this.config.tingDou+t>=0?this._updateUserDou(t):this._updateUserYu(t)}},{key:"_updateUserYu",value:function(e){this.config.yuNum=this.config.yuNum+e,this.dom_yu_num.text=t.utils.getActiveStr(this.config.yuNum)}},{key:"_updateUserDou",value:function(e){this.config.tingDou=this.config.tingDou+e,this.dom_dou_num.text=t.utils.getActiveStr(this.config.tingDou)}},{key:"defaultInputNotice",value:function(){if(!this.config.isFirstDefault){this.config.isFirstDefault=!0;var e=this.config.tingDou,i=this.config.yuNum,n=e>i?e:i,o=void 0,r=this.defaultBetHandler(i);o="number"==typeof r?r:this.dealWithNum(n),t.observer.publish("warmNoticePopShow","默认投币额："+o),Laya.timer.once(1500,this,function(){t.observer.publish("warmNoticePopHide")}),t.observer.publish("updateDomInput",o)}}},{key:"defaultBetHandler",value:function(t){var i=e.CookieUtil.get("defaultBet"+e.gameId+e.user_id),n=i?parseInt(i,10):null;if(n&&n<=Number(t))return n}},{key:"dealWithNum",value:function(t){var e=void 0,i=!1;if(t<=1e4)e=100;else{e=Math.ceil(t/100),e=String(e);for(var n=1,o=e.length;n<o;n++)"0"!==e[n]&&(i=!0);e=i?Number(e[0])+1+e.slice(1).replace(/\d/g,"0"):e}return e=Number(e),e=e>5e5?5e5:e}},{key:"activityShow",value:function(e){var i="",n="";e.buzhongxian?(i=e.buzhongxian.prizePoint,n="恭喜赢取不中险，金额： "+i):e.helpAmount&&(i=e.helpAmount.prizePoint,n="恭喜赢取救济金，金额： "+i),this.updateUserYuDou(i),t.observer.publish("onlyReadPopShow",n)}},{key:"losePointFn",value:function(e){var i=e,n=i.level,o="您的输分金额已达上限，故账户禁用开始时间："+i.beginTime+"，禁用结束时间："+i.endTime;2!==n&&3!==n||t.observer.publish("commonPopShow",o,!0),t.observer.publish("errorHandler",{code:"losePoint"})}},{key:"losePointStatusFn",value:function(e){var i="客官，您已被输分禁用，请联系客服！";t.observer.publish("commonPopShow",i,!0),t.observer.publish("errorHandler",{code:"losePoint"})}},{key:"yuNumPopBalanceShow",value:function(){t.audio.play("click"),e&&1===e.isCall_out&&e.popBalanceShow_out&&e.popBalanceShow_out(e.gameType)}},{key:"isShowBtnBackHandler",value:function(){window.GM&&1===e.isCall_out&&e.isShowBtnBack_out&&e.btnBackCall_out&&(this.btn_back.visible=!0,this.btn_back.on(Laya.Event.CLICK,this,e.btnBackCall_out))}},{key:"isShowBtnHomeHandler",value:function(){e.backHomeUrl&&(this.btn_home.visible=!0,this.btn_home.on(Laya.Event.CLICK,this,function(){location.href=e.backHomeUrl}))}}]),i}();t.HeaderScene=i}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=window.app,e=window.helpPopUI,i=function(e){function i(){var t;_classCallCheck(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=_possibleConstructorReturn(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(n)));return r.init(),r}return _inherits(i,e),_createClass(i,[{key:"init",value:function(){this.initDom(),this.initConfig(),this.initEvent(),this.registerAction()}},{key:"registerAction",value:function(){t.observer.subscribe("helpPopShow",this.myShow.bind(this))}},{key:"dispatchAction",value:function(){}},{key:"initDom",value:function(){new window.zsySlider(this.help_glr)}},{key:"initConfig",value:function(){this.config={}}},{key:"initEvent",value:function(){this.getChildByName("close1").on(Laya.Event.CLICK,this,this.close),this.getChildByName("close2").on(Laya.Event.CLICK,this,this.close)}},{key:"myShow",value:function(){this.dispatchAction(),this.popup()}}]),i}(e);t.HelpPopUIDialog=i}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=window.app,e=function(e){function i(){_classCallCheck(this,i);var t=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.sceneName="loadingScene",t.init(),t}return _inherits(i,e),_createClass(i,[{key:"init",value:function(){this.initDom(),t.observer.subscribe(this.sceneName+"_enter",this.onEnter.bind(this))}},{key:"onEnter",value:function(){t.utils.log(this.sceneName+" enter"),t.observer.unsubscribe(this.sceneName+"_enter")}},{key:"initDom",value:function(){}},{key:"loading",value:function(t){var e=Math.floor(100*t),i=e/100*600;this.dom_process_txt.text=e>97?"100%":e+"%",this.dom_process_img.width=i<30?30:i}},{key:"onExit",value:function(){t.utils.log(this.sceneName+" exit"),t.observer.publish(this.sceneName+"_exit"),this.clear()}},{key:"clear",value:function(){this.destroy(!0)}}]),i}(window.loadingUI);t.LoadingScene=e}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=window.app,e=window.rankPopUI,i=function(e){function i(){var t;_classCallCheck(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=_possibleConstructorReturn(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(n)));return r.init(),r}return _inherits(i,e),_createClass(i,[{key:"init",value:function(){this.initDom(),this.initConfig(),this.initEvent(),this.registerAction()}},{key:"registerAction",value:function(){t.messageCenter.registerAction("rank",this.renderUserAmount.bind(this)).registerAction("day",this.renderRankList.bind(this)).registerAction("week",this.renderRankList.bind(this)).registerAction("month",this.renderRankList.bind(this)),t.observer.subscribe("rankPopShow",this.myShow.bind(this))}},{key:"dispatchAction",value:function(){this.isLoadingOrContent(1),t.messageCenter.emitAjax("day"),t.messageCenter.emit("rank")}},{key:"initDom",value:function(){this.dom_close_btn=this.getChildByName("close_btn"),this.dom_rich_list=this.find("item",!0)}},{key:"initConfig",value:function(){this.config={isFirstMyList:!0,periodArr:["day","week","month"],isFirst:!0}}},{key:"initEvent",value:function(){this.dom_close_btn.on(Laya.Event.CLICK,this,this.close),this.dom_unloaded.on(Laya.Event.CLICK,this,t.utils.gotoLogin),this.dom_unloaded.color="#d9e200",this.tab_nav.selectHandler=Laya.Handler.create(this,this.tabSwitchHandler,null,!1)}},{key:"tabSwitchHandler",value:function(e){var i=0,n=void 0;3===e?(i=1,this.isLoadingOrContent(1),t.messageCenter.emit("rank")):(i=0,n=this.config.periodArr[e],this.isLoadingOrContent(1),t.messageCenter.emitAjax(n)),this.tab_con.selectedIndex=i,t.audio.play("click")}},{key:"isLoadingOrContent",value:function(t){0===t?(this.dom_loading.visible=!0,this.dom_loading.text="虚位以待...",this.tab_con.visible=!1,this.dom_unloaded.visible=!1):1===t?(this.dom_loading.visible=!0,this.dom_loading.text="加载中...",this.tab_con.visible=!1,this.dom_unloaded.visible=!1):2===t?(this.dom_loading.visible=!1,this.tab_con.visible=!0,this.dom_unloaded.visible=!1):3===t&&(this.dom_loading.visible=!1,this.tab_con.visible=!1,this.dom_unloaded.visible=!0)}},{key:"renderRichList",value:function(e){var i=e.top3;this.dom_rich_list.forEach(function(e,n){var o=i[n],r=e.getChildByName("rank"),a=e.getChildByName("name"),s=e.getChildByName("point");o?(r.visible=!0,a.text=t.utils.getActiveStr(o.userName,9),s.text=t.utils.getActiveStr(parseInt(o.amount),10),s.visible=!0):(r.visible=!0,a.text="虚位以待...",s.visible=!1)})}},{key:"renderUserAmount",value:function(t){return this.renderRichList(t),this.config.isFirstMyList?void(this.config.isFirstMyList=!1):void this.renderMyList(t)}},{key:"renderRankList",value:function(e){if(0===Number(e.code)){var i=[];e.data.forEach(function(e,n){var o=Number(e.rank_trend);i.push({rankIcon:n,rankNum:{text:n+1,visible:n>2},name:t.utils.getActiveStr(e.nickname,9),point:t.utils.getActiveStr(parseInt(e.amount),10),tend:3===o?0:o})}),this.list_rank_all.array=i,0===e.data.length?this.isLoadingOrContent(0):this.isLoadingOrContent(2)}}},{key:"renderMyList",value:function(e){var i=e.myRewards,n=[];i.forEach(function(e,i){n.push({time:e.addTime,point:{text:t.utils.getActiveStr(parseInt(e.amount),10),color:e.isTreasure?"#ffec4f":"#fff"},isSelf:{visible:e.isTreasure}})}),this.list_rank_my.array=n,0===i.length?t.utils.checkLoginStatus()?this.isLoadingOrContent(0):this.isLoadingOrContent(3):this.isLoadingOrContent(2)}},{key:"myShow",value:function(){this.config.isFirst&&(this.dispatchAction(),this.config.isFirst=!1),this.popup()}}]),i}(e);t.RankPopDialog=i}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=window.app,e=window.rechargePopUI,i=function(e){function i(){var t;_classCallCheck(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=_possibleConstructorReturn(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(n)));return r.init(),r}return _inherits(i,e),_createClass(i,[{key:"init",value:function(){this.initDom(),this.initConfig(),this.initEvent(),this.registerAction()}},{key:"registerAction",value:function(){t.observer.subscribe("rechargePopShow",this.myShow.bind(this))}},{key:"dispatchAction",value:function(){}},{key:"initDom",value:function(){this.input_txt=this.btn_input.getChildByName("input_txt"),this.input_txt.text="100"}},{key:"initConfig",value:function(){this.config={rechargeNum:["10","50","100","500"],info:"请输入大于0的整数"}}},{key:"initEvent",value:function(){this.btn_buy.on(Laya.Event.CLICK,this,this.ensureFn),this.btn_input.on(Laya.Event.CLICK,this,this.showKeyBoardNumber),this.tab_nav.selectHandler=Laya.Handler.create(this,this.tabBtnChoose,null,!1)}},{key:"showKeyBoardNumber",value:function(){t.keyBoardNumber_ui_pop.enter("",{length:8,close:this.hideKeyBoardNumber.bind(this),input:null})}},{key:"hideKeyBoardNumber",value:function(t,e){if("confirm"===t){var i=this.config.rechargeNum.indexOf(String(e));this.input_txt.text=e,this.tab_nav.selectedIndex=i}}},{key:"tabBtnChoose",value:function(t){t!==-1&&(this.input_txt.text=this.config.rechargeNum[t])}},{key:"ensureFn",value:function(){var t=window.gameId,e=window.tradeName,i=this.input_txt.text,n=window.platform,o=window.redirect_uri,r="";Number(i)>0&&(r="/?act=payment&gameId="+t+"&tradeName="+e+"&amount="+i+"&platform="+n+"&redirect_uri="+o,window.location.href=r)}},{key:"myShow",value:function(){this.dispatchAction(),this.popup()}}]),i}(e);t.RechargePopDialog=i}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=window.app,e=window.roomUI,i=window.GM,n=function(e){function n(){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.sceneName="roomScene",t.init(),t}return _inherits(n,e),_createClass(n,[{key:"init",value:function(){this.initDom(),this.initAnimate(),this.initConfig(),this.initEvent(),this.buttonPrepare(),t.observer.subscribe(this.sceneName+"_enter",this.onEnter.bind(this))}},{key:"onEnter",value:function(){t.utils.log(this.sceneName+" enter"),t.observer.unsubscribe(this.sceneName+"_enter"),this.header_ui_box=new t.HeaderScene(this.top_box),this.registerAction(),this.dispatchAction(),this.startChangeFinger(),this.config.isLogin&&this.header_ui_box.dispatchAction(),this.noticeSystem(),this.startRandomWenhao()}},{key:"registerAction",value:function(){t.messageCenter.registerAction("initGame",this.initGameRoomInfo.bind(this)).registerAction("bet",this.resultCome.bind(this)).registerAction("pool",this.renderPool.bind(this)).registerAction("treasure",this.treasureHandler.bind(this)),t.observer.subscribe("updateDomInput",this.updateDomInput.bind(this)).subscribe("errorHandler",this.errorHandler.bind(this))}},{key:"unRegisterAction",value:function(){}},{key:"dispatchAction",value:function(){t.messageCenter.emit("initGame")}},{key:"initConfig",value:function(){this.starArr.forEach(function(t,e){t.x=t.x-4});var e=this.starArr[0].x-this.dom_star_light.x,i=this.starArr[0].y-this.dom_star_light.y,n=this.starArr.map(function(t,n){return{x:t.x-e,y:t.y-i}});this.config={btnType:"",isPlayOuterCount:0,fastCount:0,slowDown:!1,handPosArr:[{x:694,y:1127},{x:492,y:1203}],handIndex:0,fudaiCallBack:null,isDropKey:!1,wenhaoMark:[3,5,6,10,20,30,50,"key"],totalKeys:0,currentAmount:0,winTotalAmount:0,isGameGoing:!1,isTIMEOUT:!1,isLogin:t.utils.checkLoginStatus(),MIN_TIMES:60,MAX_TIMES:120,MIN_INPUT:100,MAX_INPUT:5e5,user_input_text:100,starLightPosArr:n,rotationAngle:{"*0":[0,-60,-120,-180,-240,-300],"*8":-30,"*2":[-90,-270],"*4":-210,"?":[-150,-330]},innerBaseArray:[1.2,1.5,2,1.2,1.5,2,1.2,1.5,2,1.2,1.5,2],currentStarIndex:0,isStartStoped:!0,innerResultIndex:-1,innerResultIndexNew:-1,outerResultBase:-1,outerResultBaseNew:-1}}},{key:"initDom",value:function(){this.dom_girl=this.middle_box.getChildAt(0),this.dom_btn_rank=this.middle_box.getChildByName("btn_rank"),this.dom_btn_notice=this.middle_box.getChildByName("btn_notice"),this.dom_redPoint=this.middle_box.getChildByName("dom_redPoint"),this.dom_star_light=this.middle_box.getChildByName("star_light"),this.dom_star_light.visible=!1,this.dom_star_ladder=this.middle_box.getChildByName("star_ladder"),this.dom_fire_animate=this.middle_box.getChildByName("dom_fire_animate"),this.starArr=this.star_box.findType("Image"),this.start_yellow_box=this.bottom_box.getChildByName("start_yellow_box"),this.start_yellow_btn=this.start_yellow_box.getChildAt(0),this.start_blue_box=this.bottom_box.getChildByName("start_blue_box"),this.start_blue_btn=this.start_blue_box.getChildAt(0),this.dom_btn_recharge=this.bottom_box.getChildByName("btn_recharge"),this.dom_btn_sub=this.bottom_box.getChildByName("btn_sub"),this.dom_btn_add=this.bottom_box.getChildByName("btn_add"),this.dom_btn_max=this.bottom_box.getChildByName("btn_max"),this.input_box=this.bottom_box.getChildByName("input_box"),this.dom_input=this.input_box.getChildByName("dom_input"),this.dom_finger=this.bottom_box.getChildByName("dom_finger"),this.dom_fudai_all=this.fudai_box.getChildByName("fudai_all"),this.dom_magic=this.fudai_box.getChildByName("dom_magic"),this.dom_magic_big=this.fudai_box.getChildByName("dom_magic_big"),this.dom_magic_big.visible=!1,this.dom_magic_big.stop(),this.dom_fudai_win=this.fudai_box.getChildByName("fudai_win"),this.dom_bang_num=this.fudai_box.getChildByName("bang_num"),this.dom_wenhao_list=this.rotation_box.find("wenhao",!0),this.dom_three_light=this.middle_box.getChildByName("dom_three_light"),this.dom_three_light.visible=!1}},{key:"initAnimate",value:function(){this.dom_light_start.stop(),this.dom_small_light.play("wait",!0),this.dom_magic.play("wait",!0),this.setFireVisible(!1),this.dom_star_ladder.stop(),this.dom_star_ladder.visible=!1}},{key:"initEvent",value:function(){var e=this;this.start_yellow_box.on(Laya.Event.CLICK,this,this.emitStartGame.bind(this,"y")),this.start_blue_box.on(Laya.Event.CLICK,this,this.emitStartGame.bind(this,"b")),this.input_box.on(Laya.Event.CLICK,this,this.showKeyBoardNumber),this.dom_btn_sub.on(Laya.Event.CLICK,this,this.addSubHandler.bind(this,"sub")),this.dom_btn_add.on(Laya.Event.CLICK,this,this.addSubHandler.bind(this,"add")),this.dom_btn_max.on(Laya.Event.CLICK,this,this.maxHandler),this.dom_btn_recharge.on(Laya.Event.CLICK,this,function(){t.observer.publish("rechargePopShow"),t.audio.play("click")}),this.dom_btn_rank.on(Laya.Event.CLICK,this,function(){t.observer.publish("rankPopShow"),t.audio.play("click")}),this.dom_girl.on(Laya.Event.CLICK,this,function(){t.audio.play("girl")}),Laya.stage.on(Laya.Event.CLICK,this,function(){Laya.timer.once(12e4,e,e.startChangeFinger)})}},{key:"bigMagicAnimate",value:function(){var t=this;this.config.isDropKey&&(this.dom_magic_big.once(Laya.Event.STOPPED,this,function(){t.dom_bang_num.text=t.config.totalKeys+"/10",t.dom_magic_big.visible=!1,t.config.fudaiCallBack&&t.config.fudaiCallBack(),
t.config.fudaiCallBack=null}),this.dom_magic_big.visible=!0,this.dom_magic_big.play("start",!1))}},{key:"treasureHandler",value:function(e){var i=this;this.config.fudaiCallBack=function(){t.observer.publish("fudaiPopShow",e,i.updateKeyNum.bind(i))}}},{key:"buttonPrepare",value:function(){this.start_yellow_btn.play("yellow_wait",!0),this.start_blue_btn.play("blue_wait",!0)}},{key:"initGameRoomInfo",value:function(t){0===Number(t.code)&&(this.dom_fudai_all.text=t.treasurePool,this.updateKeyNum(t.totalKeys))}},{key:"emitStartGame",value:function(e){if(this.config.isGameGoing)return void t.utils.log("游戏正在进行。。。");if(this.endchangeFinger(),t.audio.play("click"),!this.config.isLogin)return void t.utils.gotoLogin();this.dom_star_light.visible||(this.dom_star_light.visible=!0),Laya.timer.clear(this,this.startRandomWenhao),this.startRandomWenhao(),this.config.isGameGoing=!0,t.messageCenter.emit("bet",{amount:this.config.user_input_text,color:e,restPoint:this.header_ui_box.config.yuNum,tpoint:this.header_ui_box.config.tingDou}),this.config.btnType=e;var i="y"===e?"yellow":"blue",n="y"===e?"blue":"yellow",o=this["start_"+i+"_btn"],r=this["start_"+n+"_btn"];o.once(Laya.Event.STOPPED,this,function(){o.play(i+"_wait",!0)}),o.play(i+"_press",!1),r.play("disable",!0),this.dom_light_start.play("start",!1),this.gameGo()}},{key:"gameGo",value:function(){this.resetGame(),this.starGo(),this.outerRotationGo(),this.setFireVisible(!0)}},{key:"resetGame",value:function(){this.config.innerResultIndex=-1,this.config.innerResultIndexNew=-1,this.config.outerResultBase=-1,this.config.outerResultBaseNew=-1,this.config.isTIMEOUT=!1,this.config.currentAmount=0,this.config.isDropKey=!1,this.config.isStartStoped=!1,this.config.slowDown=!1,this.config.fastCount=0,this.dom_three_light.visible=!0,this.dom_fudai_win.text="0"}},{key:"resultCome",value:function(t){if(Number(0!==t.code))return void this.errorHandler(t);i.CookieUtil.set("defaultBet"+i.gameId+i.user_id,String(this.config.user_input_text));var e=t.mul,n="*"+e.out;this.config.innerResultIndex=12===Number(e.in)?0:e.in,this.config.innerResultIndexNew=this.config.innerBaseArray[this.config.innerResultIndex],1===Number(t.isDropKey)&&(this.config.isDropKey=!0,n="key"),this.config.outerResultBaseNew=n,n in this.config.rotationAngle||(n="?"),this.config.outerResultBase=n,"totalKeys"in t&&(this.config.totalKeys=t.totalKeys),this.config.currentAmount=Number(t.amount),this.header_ui_box.updateUserYuDou(-1*this.config.user_input_text)}},{key:"errorHandler",value:function(e){var i=Number(e.code);return this.config.isTIMEOUT=!0,this.starStop(),81===i?void t.utils.otpCheckHandler():void("losePoint"!==e.code&&t.observer.publish("warmNoticePopShow",e.msg))}},{key:"starGo",value:function(){this.changeStarPos(),Laya.timer.loop(400,this,this.changeStarPos)}},{key:"starStop",value:function(){Laya.timer.clear(this,this.changeStarPos),this.config.currentStarIndex=this.config.currentStarIndex%12,this.config.isStartStoped=!0,this.dom_star_light.play("fast",!0),this.dom_three_light.visible=!1}},{key:"changeStarPos",value:function(){t.audio.play("innerStart");var e=this.config,i=this.config.currentStarIndex++%12,n=5;e.fastCount++;var o=e.starLightPosArr[i];if(this.dom_star_light.pos(o.x,o.y),this.dom_three_light.rotation=30*i,e.fastCount===n&&Laya.timer.loop(100,this,this.changeStarPos),e.currentStarIndex>e.MIN_TIMES&&e.innerResultIndex>-1){if(e.slowDown&&i===e.innerResultIndex)return void this.starStop();var r=e.innerResultIndex-n>=0?e.innerResultIndex-n:e.innerResultIndex-n+12;i===r&&(e.slowDown=!0,Laya.timer.loop(400,this,this.changeStarPos))}e.currentStarIndex>=e.MAX_TIMES&&(this.config.isTIMEOUT=!0,this.starStop(),t.observer.publish("warmNoticePopShow","网络异常..."))}},{key:"outerRotationGo",value:function(){var e=-360,i=this.config,n=this.outerRotationGoCallBack,o=t.utils.randomNumber,r=i.wenhaoMark,a=1500;if(this.rotation_box.rotation=0,this.config.slowDown&&i.outerResultBase in i.rotationAngle){var s=i.rotationAngle[i.outerResultBase];if(this.endRandomWenhao(),Array.isArray(s)){var u=o(s.length-1);if(e=s[u],"?"===i.outerResultBase){var l=r[o(r.length-1)];0===u?this.renderWenhao(i.outerResultBaseNew,l):this.renderWenhao(l,i.outerResultBaseNew)}else this.renderWenhao(r[o(r.length-1)],r[o(r.length-1)])}else e=s;e-=360-30*i.innerResultIndex,e=e<-360?e+360:e,a=2e3,n=this.gameStop.bind(this,!1)}this.config.isTIMEOUT&&(this.endRandomWenhao(),n=this.gameStop.bind(this,!0)),this.config.isPlayOuterCount++%2===0&&t.audio.play("outerStart"),Laya.Tween.to(this.rotation_box,{rotation:e},a,Laya.Ease.linearIn,Laya.Handler.create(this,n))}},{key:"outerRotationGoCallBack",value:function(){this.outerRotationGo()}},{key:"_resetAfterGameOver",value:function(){this.dom_star_light.play("slow",!0),this.buttonPrepare(),this.config.isGameGoing=!1,Laya.timer.once(4e3,this,this.startRandomWenhao),t.utils.log("游戏停止。。。")}},{key:"gameStop",value:function(e){var i=this,n=this.config;if(this.setFireVisible(!1),e)return void this._resetAfterGameOver();if(n.currentAmount<=0)t.audio.play("lose"),this._resetAfterGameOver(),t.jiujijin();else{"*0"!==n.outerResultBaseNew&&"key"!==n.outerResultBaseNew||(n.outerResultBaseNew="*1"),this.dom_star_ladder.visible=!0,this.dom_star_ladder.rotation=30*n.innerResultIndex,this.dom_star_ladder.play("result",!0);var o=function(){t.audio.play("win"),i.dom_star_ladder.visible=!1,i.dom_star_ladder.stop();var e=function(){i.header_ui_box.updateUserYuDou(n.currentAmount),i.dom_fudai_win.text=n.currentAmount,i.bigMagicAnimate(),i._resetAfterGameOver(),Laya.timer.once(1e3,i,function(){t.audio.play("girl")})};t.observer.publish("winPopShow",n.outerResultBaseNew,"*"+n.innerResultIndexNew,"+"+n.currentAmount,n.btnType,e.bind(i))};Laya.timer.once(1e3,this,o)}}},{key:"updateKeyNum",value:function(t){var e=this;this.dom_bang_num.text=t+"/10",this.dom_magic.play("start",!0),Laya.timer.once(3e3,this,function(){e.dom_magic.play("wait",!0)}),this.config.totalKeys=t}},{key:"renderPool",value:function(t){this.dom_fudai_all.text=t.treasure}},{key:"startRandomWenhao",value:function(){Laya.timer.loop(1e3,this,this.randomRenderWenhao)}},{key:"endRandomWenhao",value:function(){Laya.timer.clear(this,this.randomRenderWenhao)}},{key:"randomRenderWenhao",value:function(){var e=t.utils.randomNumber,i=this.config.wenhaoMark,n=i.length-1,o=i[e(n)],r=i[e(n)];this.renderWenhao(o,r)}},{key:"renderWenhao",value:function(t,e){var i=this.dom_wenhao_list[0],n=this.dom_wenhao_list[1];this._renderWenhao(i,t),this._renderWenhao(n,e)}},{key:"_renderWenhao",value:function(t,e){"key"===e?(t.getChildAt(0).visible=!1,t.getChildAt(0).text="?",t.getChildAt(1).visible=!0):(t.getChildAt(0).visible=!0,t.getChildAt(0).text="*"===String(e).charAt(0)?e:"*"+e,t.getChildAt(1).visible=!1)}},{key:"setFireVisible",value:function(t){this.dom_fire_animate.visible=t,t?this.dom_fire_animate.play("start",!0):this.dom_fire_animate.stop()}},{key:"maxHandler",value:function(){if(!this.config.isLogin)return void t.utils.gotoLogin();if(!this.config.isGameGoing){t.audio.play("click");var e=this.header_ui_box.config.yuNum,i=e-e%100;i=i<this.config.MIN_INPUT?this.config.MIN_INPUT:i,i=i>this.config.MAX_INPUT?this.config.MAX_INPUT:i,this.updateDomInput(Number(i))}}},{key:"addSubHandler",value:function(e){if(!this.config.isGameGoing){t.audio.play("click");var i=this.config.MAX_INPUT,n=this.config.MIN_INPUT,o=this.config.user_input_text,r=100;"sub"===e?o<=1e3?r=-100:o>1e3&&o<=1e4?(r=-1e3,o<2e3&&(r=-100)):o>1e4&&o<=1e5?(r=-1e4,o<2e4&&(r=-1e3)):o>1e5&&o<=1e6&&(r=-1e5,o<2e5&&(r=-1e4)):"add"===e&&(o>=1e3&&o<1e4?r=1e3:o>=1e4&&o<1e5?r=1e4:o>=1e5&&(r=1e5)),o+=r,o=o>i?i:o,o=o<n?n:o,this.updateDomInput(Number(o))}}},{key:"updateDomInput",value:function(t){this.dom_input.text=t,this.config.user_input_text=t}},{key:"showKeyBoardNumber",value:function(){this.config.isGameGoing||(t.audio.play("click"),t.keyBoardNumber_ui_pop.enter("",{length:6,close:this.hideKeyBoardNumber.bind(this),input:null}))}},{key:"hideKeyBoardNumber",value:function(t,e){var i=this.config.MAX_INPUT,n=this.config.MIN_INPUT;if("confirm"===t){var o=Number(e);o=o>i?i:o,o=o<n?n:o,o-=o%n,this.updateDomInput(o)}}},{key:"noticeSystem",value:function(){window.GM&&1===i.isCall_out&&i.noticeStatus_out&&i.noticeStatus_out(this.noticeCallBack.bind(this))}},{key:"endchangeFinger",value:function(){this.dom_finger.visible=!1,this.dom_finger.stop(),Laya.timer.clear(this,this.changeFinger)}},{key:"startChangeFinger",value:function(){this.dom_finger.visible=!0,this.dom_finger.play("start",!0),Laya.timer.loop(5e3,this,this.changeFinger),Laya.timer.once(1e4,this,this.endchangeFinger)}},{key:"changeFinger",value:function(){var t=this.config.handPosArr;this.config.handIndex=0===this.config.handIndex?1:0,this.dom_finger.pos(t[this.config.handIndex].x,t[this.config.handIndex].y)}},{key:"noticeCallBack",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.isShowNotice&&(e.isShowRedPoint&&(this.dom_redPoint.visible=!0),this.dom_btn_notice.on(Laya.Event.CLICK,this,function(){t.dom_redPoint.visible=!1,i.noticePopShow_out&&i.noticePopShow_out()}),this.dom_btn_notice.visible=!0)}},{key:"myPromise",value:function(t,e){return new Promise(function(i,n){Laya.timer.once(e,t,i)})}},{key:"onExit",value:function(){t.utils.log(this.sceneName+" exit"),this.unRegisterAction(),t.observer.publish(this.sceneName+"_exit"),this.clear()}},{key:"clear",value:function(){this.destroy(!0)}}]),n}(e);t.RoomScene=n}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=window.app,e=window.winPopUI,i=function(e){function i(){var t;_classCallCheck(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=_possibleConstructorReturn(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(n)));return r.init(),r}return _inherits(i,e),_createClass(i,[{key:"init",value:function(){this.initDom(),this.initConfig(),this.reset(),this.registerAction()}},{key:"registerAction",value:function(){t.observer.subscribe("winPopShow",this.myShow.bind(this))}},{key:"initDom",value:function(){this.dom_animate=this.getChildByName("dom_animate"),this.dom_animate.stop(),this.dom_award=this.getChildByName("dom_award"),this.dom_outer=this.getChildByName("dom_outer"),this.dom_inner=this.getChildByName("dom_inner")}},{key:"initConfig",value:function(){this.config={currentIndex:0,delayArr:[50,200,500],arrPos:[this.dom_outer.y,this.dom_inner.y,this.dom_award.y]}}},{key:"initEvent",value:function(){}},{key:"textAnimate",value:function(t){var e=this.config.currentIndex++;t.y=this.config.arrPos[e],Laya.timer.once(this.config.delayArr[e],this,function(){t.visible=!0,Laya.Tween.from(t,{alpha:0,y:t.y-50},500,Laya.Ease.linearIn)})}},{key:"myShow",value:function(t,e,i,n,o){var r=this;this.x=Math.floor((Laya.stage.width-this.width)/2),this.dom_award.text=i,this.dom_inner.text=e,this.dom_outer.text=t,this.dom_animate.once(Laya.Event.STOPPED,this,function(){r.myClose(),o&&o()}),this.dom_animate.play("start",!1),this.zOrder=2,this.dom_inner.font="y"===n?"yellow_font":"blue_font",this.textAnimate(this.dom_inner),"*1"!==t&&this.textAnimate(this.dom_outer),this.textAnimate(this.dom_award),Laya.stage.addChild(this)}},{key:"reset",value:function(){this.config.currentIndex=0,this.dom_award.visible=!1,this.dom_outer.visible=!1,this.dom_inner.visible=!1}},{key:"myClose",value:function(){this.zOrder=1,this.removeSelf(),this.reset()}}]),i}(e);t.WinPopView=i}();var app=window.app||{},config=app.config={};config.localStatus=!1,config.debug=!0,config.gameWidth=750,config.gameHeight=1334,config.screenMode=Laya.Stage.SCREEN_VERTICAL,config.scaleMode=Laya.Stage.SCALE_FIXED_HEIGHT,config.alignH=Laya.Stage.ALIGN_CENTER,config.alignV=Laya.Stage.ALIGN_MIDDLE,config.RESOURCE={},config.GAME_VERSION={};var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=window.app,e=window.CryptoJS,i=window.Base64,n=function(){function n(t){_classCallCheck(this,n),this.ajaxTimeout=3e4,this.socket=null,this.ajaxUrl=t.ajaxUrl||{},this.cmd={},this.registedAction={},this.websocketurl=t.websocketurl||"",this.lib=t.lib||"socketio",this.publicKey=t.publicKey||"",this._commKey="",this.encryptedString="",this.token=t.token,this.jwtToken="",this.init()}return _createClass(n,[{key:"init",value:function(){this.cmd={}}},{key:"registerAction",value:function(t,e){return"function"==typeof e&&(this.registedAction[t]=e),this}},{key:"unRegisterAction",value:function(t){return"undefined"!=typeof this.registedAction[t]&&delete this.registedAction[t],this}},{key:"dispatchAction",value:function(e,i,n){var o=this.registedAction[e];"function"==typeof o?o("ajax"===n?i:i.res||i.rep):t.utils.log("未注册行为："+e,i)}},{key:"emit",value:function(t,e,i,n){"function"==typeof e&&(n=e),"object"===("undefined"==typeof e?"undefined":_typeof(e))&&(i=e),this.registerAction(t,n),"ajax"===e?this.emitAjax(t,i):this.emitSocket({cmd:t,params:i})}},{key:"emitAjax",value:function(e,i){var n=this,o=this.ajaxUrl[e];if("userAccount"===e){var r=(new Date).getTime();o=o.replace(/\*/,r)}window.$.ajax({url:o,data:i,timeout:this.ajaxTimeout,success:function(i){t.utils.log(o,i),i=i||{},n.dispatchAction(e,i,"ajax")},error:function(){}})}},{key:"emitSocket",value:function(n){if(this.socket)if("socketio"===this.lib)console.log("推送：",n.cmd,n),this.socket.emit("router",i.encode(JSON.stringify(n)));else{n.params?n.params.jwt=this.jwtToken:n.params={jwt:this.jwtToken},n.status={time:(new Date).getTime()},t.utils.log("推送：",JSON.stringify(n));var o=e.AES.encrypt(JSON.stringify(n),e.enc.Utf8.parse(this._commKey),{mode:e.mode.ECB,padding:e.pad.Pkcs7});this.socket.write(o.toString())}}},{key:"generateCommKey",value:function(){try{this._commKey=Date.parse(new Date).toString()+Date.parse(new Date).toString()+Date.parse(new Date).toString().substring(0,6)}catch(e){t.utils.log("初始化commKey失败",e)}return this}},{key:"generateEncryptedString",value:function(){try{var e="jwt="+this.token+"&commKey="+this._commKey,i=new window.JSEncrypt;i.setPublicKey(this.publicKey),this.encryptedString=i.encrypt(e)}catch(e){t.utils.log("初始化encryptedString失败",e)}return this}},{key:"connectSocket",value:function(){var n=this;"primus"===this.lib&&(this.generateCommKey(),this.generateEncryptedString());try{"socketio"===this.lib?this.socket=window.io(this.websocketurl,{"force new connection":!0}):"primus"===this.lib&&(this.socket=window.Primus.connect(this.websocketurl))}catch(e){return void t.utils.log(e)}"socketio"===this.lib?(this.socket.on("router",function(t){var e=JSON.parse(i.decode(t));console.log("接收数据：",e.cmd,e),this.dispatchAction(e.cmd,e,"socket")}.bind(this)),this.socket.on("connect",function(){t.utils.log("连接已建立")}),this.socket.on("disconnect",function(e){t.utils.log("连接已断开")}),this.socket.on("close",function(e){t.utils.log("连接已关闭")}),this.socket.on("connect_error",function(e){t.utils.log("连接发生错误")}),this.socket.on("reconnecting",function(){t.utils.log("重连中")})):"primus"===this.lib&&(this.socket.on("outgoing::url",function(t){t.query="login="+n.encryptedString,console.log("outgoing::url",t.query)}),this.socket.on("open",function(){t.utils.log("连接成功"),t.utils.checkLoginStatus()||(t.enterRoom(),console.log("open~~~未登录。。。"))}),this.socket.on("data",function(i){var n=e.AES.decrypt(i,e.enc.Utf8.parse(this._commKey),{mode:e.mode.ECB,padding:e.pad.Pkcs7}),o=n.toString(e.enc.Utf8),r=JSON.parse(o);"marquee"!==r.cmd?t.utils.log("接收数据：===>",r.cmd,JSON.stringify(r,null,4)):t.utils.log("接收数据：===>",r.cmd,r),"conn::init"===r.cmd&&(this.jwtToken=r.res),this.dispatchAction(r.cmd,r,"socket")}.bind(this)),this.socket.on("error",function(e){t.utils.log("连接出错")}),this.socket.on("reconnect",function(){n.disconnectSocket(),window.location.reload(),t.utils.log("重连中")}),this.socket.on("end",function(){t.utils.log("连接已关闭")}))}},{key:"disconnectSocket",value:function(){this.socket&&("socketio"===this.lib?(this.socket.close(),this.socket.removeAllListeners()):this.socket.end(),this.socket=null)}}]),n}();window.messageCenterModule=n}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),observerModule=function(){function t(e){_classCallCheck(this,t),this.subscribers={}}return _createClass(t,[{key:"publish",value:function(t){var e=this.subscribers[t];if(e){for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];for(var r=0;r<e.length;r++)e[r].apply(e,n)}return this}},{key:"subscribe",value:function(t,e){return void 0===this.subscribers[t]&&(this.subscribers[t]=[]),this.subscribers[t].push(e),this}},{key:"unsubscribe",value:function(t,e){var i=this.subscribers[t];if(i)if(e){for(var n=i.length-1;n>=0;n--)if(e===i[n]){i.splice(n,1);break}}else for(var o=i.length-1;o>=0;o--)i.splice(o,1);return this}}]),t}();window.observerModule=observerModule;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=window.app,e=t.config.RESOURCE,i=[{url:"font/blue_font.fnt",name:"blue_font",type:Laya.Loader.XML},{url:"font/purple_font.fnt",name:"purple_font",type:Laya.Loader.XML},{url:"font/yellow_font.fnt",name:"yellow_font",type:Laya.Loader.XML},{url:"font/fudai_all_font.fnt",name:"fudai_all_font",type:Laya.Loader.XML},{url:"font/fudai_win_font.fnt",name:"fudai_win_font",type:Laya.Loader.XML},{url:"font/fudai_pop_font.fnt",name:"fudai_pop_font",type:Laya.Loader.XML},{url:"font/outer_base_font.fnt",name:"outer_base_font",type:Laya.Loader.XML},{url:"font/input_font.fnt",name:"input_font",type:Laya.Loader.XML},{url:"font/result_win_font.fnt",name:"result_win_font",type:Laya.Loader.XML}],n=[{url:"loading/loadingbg.jpg",type:Laya.Loader.IMAGE},{url:"res/atlas/loading.json",type:Laya.Loader.ATLAS}],o=[{url:"room/roombg.jpg",type:Laya.Loader.IMAGE},{url:"room/marquee_bg.png",type:Laya.Loader.IMAGE},{url:"room/outround.png",type:Laya.Loader.IMAGE},{url:"room/round.png",type:Laya.Loader.IMAGE},{url:"pop/page1.png",type:Laya.Loader.IMAGE},{url:"pop/page2.png",type:Laya.Loader.IMAGE}],r=[{url:"res/atlas/comp.json",type:Laya.Loader.ATLAS},{url:"res/atlas/pop.json",type:Laya.Loader.ATLAS},{url:"res/atlas/pop/recharge.json",type:Laya.Loader.ATLAS},{url:"res/atlas/room.json",type:Laya.Loader.ATLAS},{url:"animate/fudai.png",type:Laya.Loader.IMAGE},{url:"animate/fudai.sk",type:Laya.Loader.BUFFER},{url:"animate/spark.png",type:Laya.Loader.IMAGE},{url:"animate/spark.sk",type:Laya.Loader.BUFFER},{url:"animate/star.png",type:Laya.Loader.IMAGE},{url:"animate/star.sk",type:Laya.Loader.BUFFER},{url:"animate/round.png",type:Laya.Loader.IMAGE},{url:"animate/round.sk",type:Laya.Loader.BUFFER},{url:"animate/magic.png",type:Laya.Loader.IMAGE},{url:"animate/magic.sk",type:Laya.Loader.BUFFER},{url:"animate/magic2.png",type:Laya.Loader.IMAGE},{url:"animate/magic2.sk",type:Laya.Loader.BUFFER},{url:"animate/win.png",type:Laya.Loader.IMAGE},{url:"animate/win.sk",type:Laya.Loader.BUFFER},{url:"animate/light.png",type:Laya.Loader.IMAGE},{url:"animate/light.sk",type:Laya.Loader.BUFFER},{url:"animate/button.png",type:Laya.Loader.IMAGE},{url:"animate/button.sk",type:Laya.Loader.BUFFER},{url:"animate/finger.png",type:Laya.Loader.IMAGE},{url:"animate/finger.sk",type:Laya.Loader.BUFFER},{url:"animate/girl.png",type:Laya.Loader.IMAGE},{url:"animate/girl.sk",type:Laya.Loader.BUFFER},{url:"animate/logo.png",type:Laya.Loader.IMAGE},{url:"animate/logo.sk",type:Laya.Loader.BUFFER}];e.fonts=i,e.loadingRes=n,e.disLoadingRes=[].concat(o,r),e.images=[].concat(o,r,n);var a=[].concat(_toConsumableArray(e.fonts),_toConsumableArray(e.images)),s=t.config.GAME_VERSION,u=window.staticVertion||Date.now(),l=function t(e){"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e.forEach(function(e,i){var n=void 0,o=void 0,r=void 0;"string"==typeof e.url?(o=e.url.indexOf(".json"),r=e.url.indexOf(".fnt"),o>-1?n=e.url.substr(0,o)+".png":r>-1&&(n=e.url.substr(0,r)+".png"),n&&(s[n]=u),s[e.url]=u):t(e)})};l(a)}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),sceneManagerModule=function(){function t(e){_classCallCheck(this,t),this.currentScene=null,this.nextScene=null,this.init()}return _createClass(t,[{key:"init",value:function(){}},{key:"loadScene",value:function(t){this.nextScene=t||this.nextScene,null!=this.currentScene?(app.observer.subscribe(this.currentScene.sceneName+"_exit",this.loadNextScene.bind(this)),this.currentScene.onExit()):(this.currentScene=this.nextScene,Laya.stage.addChild(this.currentScene),app.observer.publish(this.currentScene.sceneName+"_enter"))}},{key:"loadNextScene",value:function(){app.observer.unsubscribe(this.currentScene.sceneName+"_exit"),this.currentScene=null,this.loadScene()}}]),t}();window.sceneManagerModule=sceneManagerModule,!function(){var t=window.app,e=window.GM,i=t.utils={};i.log=function(){var e;t.config.debug&&window.console&&(e=window.console).log.apply(e,arguments)},i.warn=function(){var e;t.config.debug&&window.console&&(e=window.console).warn.apply(e,arguments)},i.info=function(){var e;t.config.debug&&window.console&&(e=window.console).info.apply(e,arguments)},i.initDebug=function(t,e){var i=location.search.slice(1).split("&"),n=!1;return i.forEach(function(i){var o=i.split("=");o[0]===t&&o[1]===e&&(n=!0)}),n},i.randomNumber=function(t){return Math.round(Math.random()*t)},i.gotoLogin=function(){location.href=e.userLoginUrl},i.checkLoginStatus=function(){return t.config.localStatus||window.token&&e.userLogged},i.otpCheckHandler=function(){location.href="/?act=otp&st=otpPage"},i.willGotoLogin=function(){i.checkLoginStatus()||i.gotoLogin()},i.checkOtherYxb=function(){window.GM&&e.whereYxb&&e.whereYxb()},i.getStringLength=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(""+t.replace(/[^\x00-\xff]/gi,"ox")).length},i.getActiveStr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=0;t=String(t);var n=t.length,o="";if(0===n)return"";for(var r=0;r<n;r++){if(i+=t.charCodeAt(r)>128?2:1,i>e)return o+"...";o+=t.charAt(r)}return o}}(),window.app.audio={loaded:!1,audioSources:{bg:"bg",click:"click",girl:"girl",win:"win",lose:"lose",outerStart:"outerStart",innerStart:"innerStart"},init:function(){this.loaded||(this.loaded=!0,Laya.SoundManager.setMusicVolume(.3),Laya.SoundManager.setSoundVolume(1)),this.initResource()},play:function(t){var e="audio/"+this.audioSources[t]+".mp3?v="+window.staticVertion,i=1;"bg"===t?Laya.SoundManager.playMusic(e,0):("win"===t&&(i=.5),Laya.SoundManager.setSoundVolume(i),Laya.SoundManager.playSound(e,1))},initResource:function(){for(var t in this.audioSources)"bg"!==t&&this.play(this.audioSources[t]);Laya.SoundManager.stopAllSound()},setMuted:function(){Laya.SoundManager.muted=!0},setMutedNot:function(){Laya.SoundManager.muted=!1,this.play("bg")},stopBgMusic:function(){Laya.SoundManager.stopMusic()},setCookie:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,n=new Date;n.setTime(n.getTime()+24*i*60*1e3);var o="expires="+n.toUTCString();document.cookie=t+"="+e+";"+o},getCookie:function(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];""===o.charAt(0).trim();)o=o.substring(1);if(o.indexOf(e)!==-1)return o.substring(e.length,o.length)}return""},clearCookie:function(t){this.setCookie(t,"",-1)}},!function(){var t=window.app;t.sceneManager=null,t.observer=null,t.messageCenter=null,t.gameConfig={viewLeft:0},Object.assign(t,{init:function(){this.initDebug(),this.layaInit(),this.moduleInit(),this.loadingPageShow()},initDebug:function(){this.config.debug=t.utils.initDebug("debugFE","1")},layaInit:function(){var e=this.config;Laya.init(e.gameWidth,e.gameHeight,Laya.WebGL),t.utils.initDebug("stat","1")&&Laya.Stat.show(0,0),Laya.stage.scaleMode=e.scaleMode,Laya.stage.screenMode=e.screenMode,Laya.stage.alignH=e.alignH,Laya.stage.alignV=e.alignV,Laya.URL.basePath="string"==typeof window.cdnpath?window.cdnpath:"",Laya.URL.version=e.GAME_VERSION,window.UIConfig.closeDialogOnSide=!1},moduleInit:function(){this.sceneManager=new window.sceneManagerModule,this.observer=new window.observerModule,this.messageCenter=new window.messageCenterModule({websocketurl:window.websocketurl,lib:"undefined"==typeof window.Primus?"socketio":"primus",publicKey:"undefined"==typeof window.publicKey?"":window.publicKey,token:window.token,ajaxUrl:{day:"/?act=game_superstars&st=get_bet_rank&type=day",week:"/?act=game_superstars&st=get_bet_rank&type=week",month:"/?act=game_superstars&st=get_bet_rank&type=month",userAccount:"/?act=game_gamebase&st=queryUserAccount&data=*&gameId="+gameId+"&type=1"}})},loadFontAndImage:function(){var t=this,e=0,i=this.config.RESOURCE.fonts.length;this.config.RESOURCE.fonts.forEach(function(n,o,r){var a=new Laya.BitmapFont;a.loadFont(n.url,Laya.Handler.create(t,function(){Laya.Text.registerBitmapFont(n.name,a),++e===i&&t.loadImages()}))})},loadImages:function(){Laya.loader.load(this.config.RESOURCE.disLoadingRes,Laya.Handler.create(this,this.onLoaded),Laya.Handler.create(this.loading_ui_view,this.loading_ui_view.loading,null,!1))},loadingPageShow:function(){var e=this;Laya.loader.load(this.config.RESOURCE.loadingRes,Laya.Handler.create(this,function(){e.loading_ui_view=new e.LoadingScene,e.sceneManager.loadScene(e.loading_ui_view),t.setViewCenter(),Laya.stage.on(Laya.Event.RESIZE,e,e.setViewCenter),e.loadFontAndImage()}))},onLoaded:function(){console.warn("大厅&房间————资源加载完成"),this.initAllPop(),this.initGame(),this.messageCenter.connectSocket()},initGame:function(){var e=this;t.messageCenter.registerAction("conn::init",function(){e.enterRoom()}),t.messageCenter.registerAction("conn::error",function(t){e.connError(t)})},enterRoom:function(){t.room_ui_box=new t.RoomScene,t.sceneManager.loadScene(t.room_ui_box),this.setViewCenter(),t.audio.init()},initAllPop:function(){t.keyBoardNumber_ui_pop=new window.Tools.KeyBoardNumber,new t.RankPopDialog,new t.HelpPopUIDialog,new t.RechargePopDialog,new t.CommonPopDialog,new t.WarmNoticePopDialog,new t.FudaiPopUIDialog,new t.WinPopView},connError:function(e){switch(Number(e.code)){case 1003:t.messageCenter.disconnectSocket(),t.observer.publish("commonPopShow","异地登录，请刷新页面",!0,function(){window.location.reload()})}},jiujijin:function(){Laya.timer.once(3e3,this,function(){window.GM&&window.GM.socket_RJ&&window.GM.socket_RJ.exec&&(window.GM.socket_RJ.exec(),t.messageCenter.emitAjax("userAccount"))})},setViewCenter:function(){var e=Laya.stage.width,i=t.sceneManager.currentScene,n=e>750?(e-750)/2:0;i.x=n,t.gameConfig.viewLeft=n}}),t.init()}();
